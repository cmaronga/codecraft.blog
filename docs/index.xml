<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Christopher Maronga</title>
<link>https://cmaronga.github.io/codecraft.blog/index.html</link>
<atom:link href="https://cmaronga.github.io/codecraft.blog/index.xml" rel="self" type="application/rss+xml"/>
<description>Christopher Maronga blog</description>
<generator>quarto-1.3.450</generator>
<lastBuildDate>Tue, 31 Oct 2023 00:00:00 GMT</lastBuildDate>
<item>
  <title>Web scraping using R</title>
  <link>https://cmaronga.github.io/codecraft.blog/posts/web-scraping-in-R/index.html</link>
  <description><![CDATA[ 




<p>Efficient, flexible and powerful!</p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Web scraping is concept that most probably you have heard about. This is the art of <a href="https://en.wikipedia.org/wiki/Web_scraping">harvesting</a> publicly available data from a website for use in your analysis or reporting. Web scraping can be as simple as copying the contents of a website and pasting them on an excel sheet, but thatâ€™s not what we are going to do today. Most website pages are built using <a href="https://en.wikipedia.org/wiki/HTML">HTML</a> and this allows us to use tools such as R to dynamically extract the data.</p>
<p>In this tutorial, I am going walk you through how you can harvest data from websites using R programming language. You can do this by coding the logic and instructions manually or use the package <a href="https://rvest.tidyverse.org/"><code>{rvest}</code></a> to easily extract the contents of a website. We would demonstrate the examples using the below two websites.</p>
<ul>
<li>TheGlobalEconomy.com, <a href="https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/">Exchange rate to USD by country</a></li>
<li><a href="https://cran.r-project.org/web/packages/available_packages_by_date.html">CRAN package</a> website and <a href="https://www.datasciencemeta.com/rpackages">package download metrics</a> website</li>
</ul>
<p>First, letâ€™s load the packages/tools of trade for the exercise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># loading packages</span></span>
<span id="cb1-2">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(</span>
<span id="cb1-3">  rvest,        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># functions for webscraping</span></span>
<span id="cb1-4">  ggthemes,     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># extend themes for ggplot2</span></span>
<span id="cb1-5">  lubridate,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># handle dates</span></span>
<span id="cb1-6">  here,         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># manage file paths</span></span>
<span id="cb1-7">  flextable,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># quick tables</span></span>
<span id="cb1-8">  tidyverse     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># data wranglinga and visualization</span></span>
<span id="cb1-9">)</span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># set theme for ggplot2</span></span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_set</span>(</span>
<span id="cb1-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_hc</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># base size</span></span>
<span id="cb1-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb1-15">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># No legend, unless specified in the plot</span></span>
<span id="cb1-16">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># No title on the legend</span></span>
<span id="cb1-17">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># spin y title 90 degrees</span></span>
<span id="cb1-18">    )</span>
<span id="cb1-19">)</span></code></pre></div>
</div>
</section>
<section id="using-rvest" class="level1">
<h1>using <code>rvest</code></h1>
<p>This is the simplest and easiest approach of then all. <a href="https://rvest.tidyverse.org/">rvest helps you scrape (or harvest)</a> data from web pages and itâ€™s designed to work with the pipe chain style of coding.</p>
<p>Three simples steps using this package:-</p>
<ul>
<li>Use <code>read_tml</code> function to convert the the url into an <code>xml document</code></li>
<li>pass the <code>xlm document</code> to the function <code>html_table</code> to convert it into a list contain table(s) from the url source site.</li>
<li>Now that you have tabular data, you can proceed with various data wrangling approaches to clean it up for use.</li>
</ul>
<section id="dollar-exchange-data" class="level2">
<h2 class="anchored" data-anchor-id="dollar-exchange-data">Dollar exchange data</h2>
<p>I came across this website <a href="https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/">Exchange rate to USD by country</a> while I was working on aggregating output from an<a href="https://asbmr.onlinelibrary.wiley.com/doi/full/10.1002/jbmr.4775?af=R">economic micro-simulation model</a> estimating benefits and budget impact of setting up fracture liaison services. Part of my reporting costs associated with the FLS, reported in local currency for about 10 different countries, but for harmonized reporting and international consumption, I need to convert the local currencies to US Dollars, hence I needed a source that I could cite and is updated regularly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># get url from website</span></span>
<span id="cb2-2">exchange_rate_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/"</span></span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># read HTML from website</span></span>
<span id="cb2-5">exchange_rate_webpage <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(exchange_rate_url)       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># read html site</span></span>
<span id="cb2-6"></span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create a datframe containing the exchange rates for use</span></span>
<span id="cb2-9">currency_rates <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> exchange_rate_webpage <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_table</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># output a list contain the exchange rate table from website</span></span>
<span id="cb2-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transform into a tibble</span></span>
<span id="cb2-12">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># rename columns appropriately</span></span>
<span id="cb2-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(</span>
<span id="cb2-14">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Country        =</span> Countries,</span>
<span id="cb2-15">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">DateLatestData     =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Reference"</span>,</span>
<span id="cb2-16">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatesValue     =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Latest.value"</span>,</span>
<span id="cb2-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Change3months  =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Change.three.months"</span>,</span>
<span id="cb2-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Change12months =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Change.twelve.months"</span></span>
<span id="cb2-19">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb2-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(LatesValue, as.numeric),                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># convert to numeric column containing exchange rate</span></span>
<span id="cb2-21">         </span>
<span id="cb2-22">         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># On the date column; remove white space and replace "/" with "-"</span></span>
<span id="cb2-23">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">DateLatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_squish</span>(</span>
<span id="cb2-24">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(</span>
<span id="cb2-25">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">string =</span> DateLatestData,</span>
<span id="cb2-26">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/"</span>,</span>
<span id="cb2-27">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replacement =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span></span>
<span id="cb2-28">           )</span>
<span id="cb2-29">         )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-30">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transform `DateLatestData` into a proper date column</span></span>
<span id="cb2-31">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb2-32">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">DateLatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">my</span>(DateLatestData),                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># proper date format</span></span>
<span id="cb2-33">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">DateLatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span>(DateLatestData, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m"</span>)           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># YYYY-mm</span></span>
<span id="cb2-34">  )</span></code></pre></div>
</div>
<p>The first 15 rows of the harvested data are show below</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">currency_rates <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Country LatesValue DateLatestData Change3months Change12months
1          Afghanistan    70.7133        2024-08        -0.61%        -17.45%
2              Albania    90.7575        2024-08        -2.10%         -6.33%
3              Algeria   134.2240        2024-08        -0.18%         -1.35%
4              Andorra     0.9073        2024-08        -1.68%         -1.03%
5               Angola   891.8101        2024-08         5.40%          7.95%
6  Antigua and Barbuda     2.7026        2024-08         0.00%          0.00%
7            Argentina   940.2254        2024-08         5.86%        195.41%
8              Armenia   386.9613        2024-08         0.03%          0.33%
9                Aruba     1.8006        2024-08        -0.04%         -0.03%
10           Australia     1.5030        2024-08        -0.15%         -2.62%
11             Austria     0.9073        2024-08        -1.68%         -1.03%
12          Azerbaijan     1.7000        2024-08         0.00%          0.00%
13             Bahamas     0.9986        2024-08        -0.07%         -0.09%
14             Bahrain     0.3766        2024-08         0.00%         -0.03%
15          Bangladesh   118.1472        2024-08         0.91%          8.15%</code></pre>
</div>
</div>
<p>You can now export the harvested data for later use downstream or in your modelling framework like I did. You see, easy and straight forward, right?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Export the data</span></span>
<span id="cb5-2"></span>
<span id="cb5-3">rio<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">export</span>(currency_rates, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"datasets"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dollar_exchange_rates.rds"</span>))</span></code></pre></div>
</div>
</section>
<section id="available-cran-packages" class="level2">
<h2 class="anchored" data-anchor-id="available-cran-packages">Available CRAN packages</h2>
<p>In this section, we are going to harvest data from two websites:-</p>
<ul>
<li>List of available <a href="https://cran.r-project.org/web/packages/available_packages_by_date.html">CRAN packages</a> by data of publication</li>
<li>Tracked website of <a href="https://www.datasciencemeta.com/rpackages">CRAN packages by number of downloads</a></li>
<li>Additionally, to get some metrics to combine with data from the above 2 sites, we I use <code>available.packages</code> function for all cran packages in this <a href="https://cran.r-project.org/">mirror</a></li>
</ul>
<section id="cran-packages-by-publication-date" class="level3">
<h3 class="anchored" data-anchor-id="cran-packages-by-publication-date">CRAN packages by publication date</h3>
<p>I will use the 3 simple steps already covered earlier, employing <code>rvest</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Specifying the url</span></span>
<span id="cb6-2">url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'https://cran.r-project.org/web/packages/available_packages_by_date.html'</span></span>
<span id="cb6-3"></span>
<span id="cb6-4"></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create a dataframe using `rvest` functions</span></span>
<span id="cb6-6">r_pkgs_by_date <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(url) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_table</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb6-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Date =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ymd</span>(Date)</span>
<span id="cb6-11">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pkg_name =</span> Package, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_published =</span> Date)</span>
<span id="cb6-13"></span>
<span id="cb6-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># view top n rows</span></span>
<span id="cb6-15">r_pkgs_by_date <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   date_published    pkg_name
1      2024-09-08    datefixR
2      2024-09-08   EMCluster
3      2024-09-08     ibdsim2
4      2024-09-08      IsoriX
5      2024-09-08      L1pack
6      2024-09-08 matrixStats
7      2024-09-08         msm
8      2024-09-08   openxlsx2
9      2024-09-08    pedtools
10     2024-09-08   PMCMRplus
                                                                              Title
1                       Standardize Dates in Different Formats or with Missing Data
2  EM Algorithm for Model-Based Clustering of Finite Mixture\nGaussian Distribution
3                        Simulation of Chromosomal Regions Shared by Family Members
4         Isoscape Computation and Inference of Spatial Origins using\nMixed Models
5                                                        Routines for L1 Estimation
6            Functions that Apply to Rows and Columns of Matrices (and to\nVectors)
7                    Multi-State Markov and Hidden Markov Models in Continuous Time
8                                                 Read, Write and Edit 'xlsx' Files
9                               Creating and Working with Pedigrees and Marker Data
10              Calculate Pairwise Multiple Comparisons of Mean Rank Sums\nExtended</code></pre>
</div>
</div>
</section>
<section id="cran-packages-metadata" class="level3">
<h3 class="anchored" data-anchor-id="cran-packages-metadata">CRAN packages metadata</h3>
<p>If I need additional details, I can use the function <code>available.packages()</code>; downside, it doesnâ€™t contain date of publication, but some other metrics which are equally important are returned by this function. So, I ma going to do that below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># using available.packages function</span></span>
<span id="cb8-2"></span>
<span id="cb8-3">available_pks <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">available.packages</span>(<span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#repos = "http://cran.us.r-project.org",</span></span>
<span id="cb8-4">                                                                            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># specify CRAN mirror and metadata to extract</span></span>
<span id="cb8-5">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">repos =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://cran.r-project.org/"</span>)[, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Version"</span>,</span>
<span id="cb8-6">                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Depends"</span>,</span>
<span id="cb8-7">                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Repository"</span>,</span>
<span id="cb8-8">                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NeedsCompilation"</span>,</span>
<span id="cb8-9">                                             <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"License"</span>)] <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb8-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> tibble<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rownames_to_column</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">var =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pkg_name"</span>)</span>
<span id="cb8-11"></span>
<span id="cb8-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># view top n rows</span></span>
<span id="cb8-13">available_pks <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        pkg_name Version                                             Depends
1             A3   1.0.0                      R (&gt;= 2.15.0), xtable, pbapply
2  AalenJohansen     1.0                                                &lt;NA&gt;
3       AATtools   0.0.3                                        R (&gt;= 3.6.0)
4         ABACUS   1.0.0                                        R (&gt;= 3.1.0)
5    abasequence   0.1.0                                                &lt;NA&gt;
6     abbreviate     0.1                                                &lt;NA&gt;
7            abc   2.2.1 R (&gt;= 2.10), abc.data, nnet, quantreg, MASS, locfit
8       abc.data     1.1                                         R (&gt;= 2.10)
9        ABC.RAP   0.9.0                                        R (&gt;= 3.1.0)
10   ABCanalysis   1.2.1                                         R (&gt;= 2.10)
                               Repository NeedsCompilation    License
1  https://cran.r-project.org/src/contrib               no GPL (&gt;= 2)
2  https://cran.r-project.org/src/contrib               no GPL (&gt;= 2)
3  https://cran.r-project.org/src/contrib               no      GPL-3
4  https://cran.r-project.org/src/contrib               no      GPL-3
5  https://cran.r-project.org/src/contrib               no      GPL-3
6  https://cran.r-project.org/src/contrib               no      GPL-3
7  https://cran.r-project.org/src/contrib               no GPL (&gt;= 3)
8  https://cran.r-project.org/src/contrib               no GPL (&gt;= 3)
9  https://cran.r-project.org/src/contrib               no      GPL-3
10 https://cran.r-project.org/src/contrib               no      GPL-3</code></pre>
</div>
</div>
</section>
<section id="cran-packages-downloads" class="level3">
<h3 class="anchored" data-anchor-id="cran-packages-downloads">CRAN packages downloads</h3>
<p>We can grab metric on number of downloads for each package in CRAN from this <a href="https://www.datasciencemeta.com/rpackages">website.</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">pkg_down_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.datasciencemeta.com/rpackages"</span></span>
<span id="cb10-2"></span>
<span id="cb10-3">pkg_downloads <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_html</span>(pkg_down_url) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">html_table</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.frame</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(Author, Maintainer)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove columns with no data</span></span>
<span id="cb10-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb10-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Downloads =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove_all</span>(Downloads, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>),     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># get rid of commas</span></span>
<span id="cb10-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Downloads =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(Downloads)                         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># convert into an integer</span></span>
<span id="cb10-10">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rename</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pkg_name =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Package.Name"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">downloads =</span> Downloads)</span>
<span id="cb10-12"></span>
<span id="cb10-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># view top n rows</span></span>
<span id="cb10-14">pkg_downloads <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-15">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Rank pkg_name downloads
1     1  ggplot2 147979440
2     2    rlang 136425392
3     3 magrittr 126139801
4     4    dplyr 111533228
5     5    vctrs  99097308
6     6      cli  96527305
7     7   tibble  93773928
8     8 devtools  91913477
9     9 jsonlite  91716968
10   10     Rcpp  88506647</code></pre>
</div>
</div>
<p>Here is the fun part, we can now join all the three datasets telling different aspects of the packages to have one dataframe we can use for visualization and expropriation, how cool is thatðŸ™‚</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1">CRAN_pkgs <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reduce</span>(</span>
<span id="cb12-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">list</span>(r_pkgs_by_date, pkg_downloads, available_pks), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># reduce from purrr package</span></span>
<span id="cb12-3">  left_join,</span>
<span id="cb12-4">  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pkg_name"</span>                                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># join by package_name</span></span>
<span id="cb12-5">) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(Rank) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb12-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(Rank, pkg_name, downloads, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">everything</span>())</span>
<span id="cb12-7"></span>
<span id="cb12-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># view top n rows</span></span>
<span id="cb12-9"></span>
<span id="cb12-10">CRAN_pkgs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb12-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb12-12">  reactable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reactable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-ec37ef96a8d5d3a1d1e2" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ec37ef96a8d5d3a1d1e2">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Rank":[1,2,3,4,5],"pkg_name":["ggplot2","rlang","magrittr","dplyr","vctrs"],"downloads":[147979440,136425392,126139801,111533228,99097308],"date_published":["2024-04-23","2024-06-04","2022-03-30","2023-11-17","2023-12-01"],"Title":["Create Elegant Data Visualisations Using the Grammar of Graphics","Functions for Base Types and Core R and 'Tidyverse' Features","A Forward-Pipe Operator for R","A Grammar of Data Manipulation","Vector Helpers"],"Version":["3.5.1","1.1.4","2.0.3","1.1.4","0.6.5"],"Depends":["R (>= 3.5)","R (>= 3.5.0)","R (>= 3.4.0)","R (>= 3.5.0)","R (>= 3.5.0)"],"Repository":["https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib"],"NeedsCompilation":["no","yes","yes","yes","yes"],"License":["MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE"]},"columns":[{"id":"Rank","name":"Rank","type":"numeric"},{"id":"pkg_name","name":"pkg_name","type":"character"},{"id":"downloads","name":"downloads","type":"numeric"},{"id":"date_published","name":"date_published","type":"Date"},{"id":"Title","name":"Title","type":"character"},{"id":"Version","name":"Version","type":"character"},{"id":"Depends","name":"Depends","type":"character"},{"id":"Repository","name":"Repository","type":"character"},{"id":"NeedsCompilation","name":"NeedsCompilation","type":"character"},{"id":"License","name":"License","type":"character"}],"dataKey":"b6ff7590134c28df1ca3d37750d7a415"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>For instance, as of the harvesting of this data, what are the top 20 most downloaded packages from CRAN. We can be able to summarize and visualize that information</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">CRAN_pkgs <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(Rank <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb13-3">  reactable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">reactable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="reactable html-widget html-fill-item" id="htmlwidget-795b84d16063f511336c" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-795b84d16063f511336c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Rank":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],"pkg_name":["ggplot2","rlang","magrittr","dplyr","vctrs","cli","tibble","devtools","jsonlite","Rcpp","pillar","lifecycle","glue","ragg","textshaping","stringr","stringi","tidyverse","digest","sf"],"downloads":[147979440,136425392,126139801,111533228,99097308,96527305,93773928,91913477,91716968,88506647,87840928,86647531,85566368,85144381,83348776,78990749,75289924,73021885,71572781,68318677],"date_published":["2024-04-23","2024-06-04","2022-03-30","2023-11-17","2023-12-01","2024-06-21","2023-03-20","2022-10-11","2023-12-04","2024-07-17","2023-03-22","2023-11-07","2024-01-09","2024-05-15","2024-05-24","2023-11-14","2024-05-06","2023-02-22","2024-08-19","2024-09-06"],"Title":["Create Elegant Data Visualisations Using the Grammar of Graphics","Functions for Base Types and Core R and 'Tidyverse' Features","A Forward-Pipe Operator for R","A Grammar of Data Manipulation","Vector Helpers","Helpers for Developing Command Line Interfaces","Simple Data Frames","Tools to Make Developing R Packages Easier","A Simple and Robust JSON Parser and Generator for R","Seamless R and C++ Integration","Coloured Formatting for Columns","Manage the Life Cycle of your Package Functions","Interpreted String Literals","Graphic Devices Based on AGG","Bindings to the 'HarfBuzz' and 'Fribidi' Libraries for Text\nShaping","Simple, Consistent Wrappers for Common String Operations","Fast and Portable Character String Processing Facilities","Easily Install and Load the 'Tidyverse'","Create Compact Hash Digests of R Objects","Simple Features for R"],"Version":["3.5.1","1.1.4","2.0.3","1.1.4","0.6.5","3.6.3","3.2.1","2.4.5","1.8.8","1.0.13","1.9.0","1.0.4","1.7.0","1.3.2","0.4.0","1.5.1","1.8.4","2.0.0","0.6.37","1.0-17"],"Depends":["R (>= 3.5)","R (>= 3.5.0)","R (>= 3.4.0)","R (>= 3.5.0)","R (>= 3.5.0)","R (>= 3.4)","R (>= 3.4.0)","R (>= 3.0.2), usethis (>= 2.1.6)","methods",null,null,"R (>= 3.6)","R (>= 3.6)",null,"R (>= 3.2.0)","R (>= 3.6)","R (>= 3.4)","R (>= 3.3)","R (>= 3.3.0)","methods, R (>= 3.3.0)"],"Repository":["https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib","https://cran.r-project.org/src/contrib"],"NeedsCompilation":["no","yes","yes","yes","yes","yes","yes","no","yes","yes","no","no","yes","yes","yes","no","yes","no","yes","yes"],"License":["MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","GPL (>= 2)","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","MIT + file LICENSE","file LICENSE","MIT + file LICENSE","GPL (>= 2)","GPL-2 | MIT + file LICENSE"]},"columns":[{"id":"Rank","name":"Rank","type":"numeric"},{"id":"pkg_name","name":"pkg_name","type":"character"},{"id":"downloads","name":"downloads","type":"numeric"},{"id":"date_published","name":"date_published","type":"Date"},{"id":"Title","name":"Title","type":"character"},{"id":"Version","name":"Version","type":"character"},{"id":"Depends","name":"Depends","type":"character"},{"id":"Repository","name":"Repository","type":"character"},{"id":"NeedsCompilation","name":"NeedsCompilation","type":"character"},{"id":"License","name":"License","type":"character"}],"dataKey":"525e4fe01f0d1181692f3cc3b2bababa"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>More fun exploration and data wrangling can be performed on the harvested data, feel free to play with the data further.</p>
<p>Export the combined dataset</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># export data for playing around with</span></span>
<span id="cb14-2"></span>
<span id="cb14-3">rio<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">export</span>(CRAN_pkgs, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"datasets"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CRAN_pkgs.rds"</span>))</span></code></pre></div>
</div>
</section>
</section>
</section>
<section id="manually-using-readlines" class="level1">
<h1>Manually using <code>readLines()</code></h1>
<p>Sometimes, not all websites are structured in the manner that the dollar exchange website is. What this means is that the magic of the two functions above (<code>read_html</code> and <code>html_tabel</code>) do not work as expected.</p>
<p>In such scenarios, I am going to show you a manual way to still harvest data using the <code>readLines</code> functions. I must admit that this is a very painful approach and is NOT standard nor reproducible as it depends on the state/structure of the website at the time of harvesting.</p>
<section id="read-the-webpage" class="level4">
<h4 class="anchored" data-anchor-id="read-the-webpage"><strong>Read the webpage</strong></h4>
<p>The first step is to read the html code from the website using <code>readLines</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># store url link</span></span>
<span id="cb15-2">dollar_ex_url <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/"</span></span>
<span id="cb15-3"></span>
<span id="cb15-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Reading the HTML code from the website</span></span>
<span id="cb15-5">dollaEx_webpage <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readLines</span>(dollar_ex_url)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in readLines(dollar_ex_url): incomplete final line found on
'https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(dollaEx_webpage, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "&lt;!DOCTYPE html&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 [2] "&lt;html xmlns='https://www.w3.org/1999/xhtml' lang=\"en\" xml:lang='en' &gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
 [3] "\t&lt;head&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
 [4] "\t\t&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0\"/&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
 [5] "\t\t"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
 [6] "\t\t&lt;link rel=\"canonical\" href=\"https://www.theglobaleconomy.com/rankings/Dollar_exchange_rate/\"&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
 [7] "\t\t"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
 [8] "\t\t\t\t&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
 [9] "\t\t"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
[10] "\t\t&lt;link rel=\"shortcut icon\" href=\"/favicon.ico\" type=\"image/x-icon\"&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
[11] "\t\t&lt;link rel=\"icon\" href=\"/favicon.ico\" type=\"image/x-icon\"&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
[12] "\t\t"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
[13] "\t\t&lt;title&gt;USD exchange rate around the world | TheGlobalEconomy.com&lt;/title&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
[14] "\t\t&lt;meta name=\"Keywords\" content=\"USD exchange rate around the world\" /&gt;"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
[15] "\t\t&lt;meta name=\"Description\" content=\"What factors determine the exchange rates The exchange rate is the price of one currency expressed in units of another currency. We say that a currency is appreciating/depreciating relative to another currency if it takes more/less units of the other currency to purchase it. The exchange rate appreciates when the demand for the currency increases, i.e. when more people want to buy it and depreciates when the supply increases, i.e. when more people want to sell it. Look at it from the U.S. perspective. Foreigners want to buy dollars when they: 1.\tInvest in the U.S. 2.\tBuy goods and services from the U.S. At the same time U.S. citizens sell dollars when they: 1.\tInvest overseas. 2.\tBuy foreign goods and services. Holding all else constant, if foreign investment in the U.S. increases, this will create more demand for dollars, and the dollar will appreciate. Similarly, when the U.S. increases its international purchases and investments, that creates additional supply of dollars and the dollar will depreciate. Several examples U.S. interest rates increase. That leads to greater foreign investment into the U.S., greater demand for dollars, and dollar appreciation. New tariffs on U.S. exports to Europe. Now foreigners buy fewer U.S. goods, the demand for dollars declines, and the dollar depreciates. The U.S. economy is growing rapidly. On one hand, that attracts foreign investment and causes dollar appreciation. On the other hand, U.S. imports increase since Americans can buy more international goods and services and cause dollar depreciation. We are not sure which effect would be stronger but usually a growing economy is associated with an appreciating currency. Expected appreciation of the dollar. If for some reason investors believe that the dollar will appreciate in one year, they will want to buy it now. This creates additional demand for dollars and leads to appreciation now. If you wonder what the effect of some macroeconomic variable on the exchange rate is, ask yourself how, holding everything else constant, that variable affects the demand or the supply of the currency. Based on that, you can determine if the change is likely to lead to appreciation or depreciation. Forecasting currency values: short, medium, and long run Of course, in reality there are multiple macroeconomic changes occurring at the same time. Interest rates may be changing in various countries, GDP growth rates differ, trade flows shift, etc. The combination of all these factors makes it virtually impossible to predict the exchange rate at short horizons (days, weeks). Too many fundamentals are moving in different directions at the same time. Therefore, economists say that the exchange rate follows a â€œrandom walkâ€, i.e. the best forecast of tomorrowâ€™s exchange rate is todayâ€™s exchange rate. The likelihood of appreciation and depreciation are the same. At medium-term time horizons (months, a few years) the effect of particular macroeconomic fundamentals on the exchange rate becomes more visible. For example, if the economy is growing rapidly its currency is likely to appreciate as the country attracts international capital that creates demand for the local money. In contrast, in the long-run (many years, decades) macroeconomic fundamentals cease to have a role. Over such long periods of time, the economic growth rates, interest rates, as well as international trade and investment flows have stabilized at some â€œaverageâ€ levels. Then, the only determinant of the exchange rate is the rate of money supply growth. Countries that print money more rapidly than the rest of the world will experience currency depreciation. In fact, the size of the depreciation would be equal to the increase of the money supply. Recall that the exchange rate is the price of a currency. If you create too much of it the price will come down. Additional resources Information about the European Monetary Union with a lot of historic information, analyses and data. Available from: European Central Bank The International Monetary Fund, a wealth of information about all member countries and about international financial markets. Available from: IMF.\" /&gt;"</code></pre>
</div>
</div>
<p>The <code>dollaEx_webpage</code> is basically a HTML page with all the usual html tags and stuff. So, we are going refer to the website for a start point to give us reference for first entry and last entry of the page. From experience, I have found focusing on the actual data saves time and very easy to proceed forth as opposed to randomly picking any entry on the page.</p>
<p>For instance, Afghanistan is the first entry on the table and Zambia is the last entry, this gives me an idea of the bound of the data that I want. Ideally I need everything between entry one and last entry and I am going to show you how.</p>
</section>
<section id="search-for-data-bounds" class="level4">
<h4 class="anchored" data-anchor-id="search-for-data-bounds"><strong>Search for data bounds</strong></h4>
<p>Now, the manual work starts here. From the source website, I want to find the index or indices of <code>Afghanistan</code>, my first data point.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_which</span>(dollaEx_webpage, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Afghanistan"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 949</code></pre>
</div>
</div>
<p>What this means is that the key word Afghanistan has been found in position 922 (sometimes multiple positions get returned). We can try to triangulate around these positions and see what weâ€™ve got going. There is not rule for triangulation, you just throw the net and inspect the output, thatâ€™s why itâ€™s a manual approach.</p>
<p>From the <code>dollaEx_webpage</code> object and with the index of my first data point, I start the triangulation process. For instance, let me view the next 10 lines after position <code>922</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1">dollaEx_webpage[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">922</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">932</span>] <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># first 10 lines</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "\t\t\tSelect indicator\t\t&lt;/a&gt;"                                                                                                                                                                                                    
 [2] "\t\t&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"                                                                                                                        
 [3] "\t&lt;/div&gt;"                                                                                                                                                                                                                          
 [4] ""                                                                                                                                                                                                                                  
 [5] "\t&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                                                                                                                                               
 [6] "\t"                                                                                                                                                                                                                                
 [7] "\t&lt;div style=\"width: 98%; max-width: 750px; text-align: justify; float:left; vertical-align:top; margin: 10px 0 0 5px\"&gt;"                                                                                                         
 [8] "\t\t&lt;div style=\"width: 100%; overflow: auto;\"&gt;"                                                                                                                                                                                  
 [9] "\t\t\tThe amount of local currency units that can be exchanged for one USD. An increase (decrease) means USD appreciation (depreciation). The values are monthly averages of the daily exchange rates provided by Google Finance. "
[10] "\t\t\t&lt;/br&gt;&lt;/br&gt;"                                                                                                                                                                                                                  
[11] "\t\t\t&lt;div style=\"width: auto; max-width: 300px; float: left; margin: 0 0 0 0px\"&gt;"                                                                                                                                               </code></pre>
</div>
</div>
<p>Clearly from the above output, if I were interested in data for <code>Afghanistan</code> only, i.e.&nbsp;the 5 columns from the table in the website, they are contained between positions 922 and 926, see below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1">dollaEx_webpage[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">922</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">926</span>] </span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\t\t\tSelect indicator\t\t&lt;/a&gt;"                                                                            
[2] "\t\t&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"
[3] "\t&lt;/div&gt;"                                                                                                  
[4] ""                                                                                                          
[5] "\t&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                       </code></pre>
</div>
</div>
<p><strong>NOTE</strong>, I am ONLY interested at the start and end of the data string containing the columns a.ka. data that I need. Do the same for the last entry on the table (in the website), which in this case is <code>Zambia.</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Last entry</span></span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_which</span>(dollaEx_webpage, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Zambia"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 2279</code></pre>
</div>
</div>
<p>NOTE, I am interested at the start and end of the data string. The index for Zambia is 2252, based on what I did with the first entry on the table, it simply means that the data bound for Zambia is contained within 4 steps/lines from 2252. See below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1">dollaEx_webpage[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2252</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2256</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "\t\t\t\t\t\t&lt;td&gt;12631.2350&lt;/td&gt;"        
[2] "\t\t\t\t\t\t&lt;td&gt;Aug / 2024&lt;/td&gt;"        
[3] "\t\t\t\t\t\t\t\t\t\t\t\t&lt;td&gt;-0.51%&lt;/td&gt;"
[4] "\t\t\t\t\t\t&lt;td&gt;5.74%&lt;/td&gt;"             
[5] "\t\t\t\t\t\t\t\t\t\t\t&lt;/tr&gt;"            </code></pre>
</div>
</div>
<p>After carefully inspecting the above outputs, I can conclude that the data I am looking for (the whole table) lies between 922 to 2256. Anything before or after contain nothing other than â€œ tags only.</p>
</section>
<section id="define-whole-data-bounds" class="level4">
<h4 class="anchored" data-anchor-id="define-whole-data-bounds"><strong>Define whole data bounds</strong></h4>
<p>After arriving at this conclusion, then next step is to now narrow your webpage to the data bounds only i.e.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># resize your webpage to only contain the data</span></span>
<span id="cb29-2">dollaEx_webData <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dollaEx_webpage[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">922</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2256</span>]</span>
<span id="cb29-3"></span>
<span id="cb29-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(dollaEx_webData, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "\t\t\tSelect indicator\t\t&lt;/a&gt;"                                                                                                                                                                                                    
 [2] "\t\t&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"                                                                                                                        
 [3] "\t&lt;/div&gt;"                                                                                                                                                                                                                          
 [4] ""                                                                                                                                                                                                                                  
 [5] "\t&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                                                                                                                                               
 [6] "\t"                                                                                                                                                                                                                                
 [7] "\t&lt;div style=\"width: 98%; max-width: 750px; text-align: justify; float:left; vertical-align:top; margin: 10px 0 0 5px\"&gt;"                                                                                                         
 [8] "\t\t&lt;div style=\"width: 100%; overflow: auto;\"&gt;"                                                                                                                                                                                  
 [9] "\t\t\tThe amount of local currency units that can be exchanged for one USD. An increase (decrease) means USD appreciation (depreciation). The values are monthly averages of the daily exchange rates provided by Google Finance. "
[10] "\t\t\t&lt;/br&gt;&lt;/br&gt;"                                                                                                                                                                                                                  
[11] "\t\t\t&lt;div style=\"width: auto; max-width: 300px; float: left; margin: 0 0 0 0px\"&gt;"                                                                                                                                               
[12] "\t\t\t\t&lt;a href=\"https://www.theglobaleconomy.com/download-data.php\" target=\"_blank\" style=\"font-weight: bold;\"&gt;Download data from our database&lt;/a&gt;"                                                                         
[13] "&lt;!-- \t\t\t&lt;a href=\"https://www.theglobaleconomy.com/data_feed_api.php\" target=\"_blank\" style=\"color: #e2bb04; display: inline-block; margin: 0 0 0 20px;\"&gt;API&lt;/a&gt;--&gt;"                                                       
[14] "\t\t\t&lt;/div&gt;"                                                                                                                                                                                                                      
[15] "\t\t\t&lt;/br&gt;&lt;/br&gt;"                                                                                                                                                                                                                  </code></pre>
</div>
</div>
<p>If you widely look at the object <code>dollaEx_webData</code>, it contains a lot of unnecessary â€œ tags, so now itâ€™s time to clean this object carefully ind order to obtain the data.</p>
</section>
<section id="cleanup-process" class="level4">
<h4 class="anchored" data-anchor-id="cleanup-process"><strong>Cleanup process</strong></h4>
<p>First get rid of all the <code>"\t\t\t\t\t\t\t\t\t\t\t\t\t"</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove ALL the "\t"</span></span>
<span id="cb31-2">dollaEx_clean <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dollaEx_webData <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove_all</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\t</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb31-3"></span>
<span id="cb31-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(dollaEx_clean,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Select indicator&lt;/a&gt;"                                                                                                                                                                                                        
 [2] "&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"                                                                                                                      
 [3] "&lt;/div&gt;"                                                                                                                                                                                                                      
 [4] ""                                                                                                                                                                                                                            
 [5] "&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                                                                                                                                           
 [6] ""                                                                                                                                                                                                                            
 [7] "&lt;div style=\"width: 98%; max-width: 750px; text-align: justify; float:left; vertical-align:top; margin: 10px 0 0 5px\"&gt;"                                                                                                     
 [8] "&lt;div style=\"width: 100%; overflow: auto;\"&gt;"                                                                                                                                                                                
 [9] "The amount of local currency units that can be exchanged for one USD. An increase (decrease) means USD appreciation (depreciation). The values are monthly averages of the daily exchange rates provided by Google Finance. "
[10] "&lt;/br&gt;&lt;/br&gt;"                                                                                                                                                                                                                  
[11] "&lt;div style=\"width: auto; max-width: 300px; float: left; margin: 0 0 0 0px\"&gt;"                                                                                                                                               
[12] "&lt;a href=\"https://www.theglobaleconomy.com/download-data.php\" target=\"_blank\" style=\"font-weight: bold;\"&gt;Download data from our database&lt;/a&gt;"                                                                           
[13] "&lt;!-- &lt;a href=\"https://www.theglobaleconomy.com/data_feed_api.php\" target=\"_blank\" style=\"color: #e2bb04; display: inline-block; margin: 0 0 0 20px;\"&gt;API&lt;/a&gt;--&gt;"                                                       
[14] "&lt;/div&gt;"                                                                                                                                                                                                                      
[15] "&lt;/br&gt;&lt;/br&gt;"                                                                                                                                                                                                                  
[16] "&lt;table id=\"benchmarkTable\" class=\"sortable\" style=\"width: 100%; max-width: 750px;\"&gt;"                                                                                                                                   
[17] "&lt;thead&gt;"                                                                                                                                                                                                                     
[18] "&lt;tr style=\"height: 40px;\"&gt;"                                                                                                                                                                                                
[19] "&lt;th&gt;Countries&lt;/th&gt;"                                                                                                                                                                                                          
[20] "&lt;th&gt;Latest value&lt;/th&gt;"                                                                                                                                                                                                       
[21] "&lt;th&gt;Reference&lt;/th&gt;"                                                                                                                                                                                                          
[22] "&lt;th&gt;Change three months&lt;/th&gt;"                                                                                                                                                                                                
[23] "&lt;th&gt;Change twelve months&lt;/th&gt;"                                                                                                                                                                                               
[24] "&lt;/tr&gt;"                                                                                                                                                                                                                       
[25] "&lt;/thead&gt;"                                                                                                                                                                                                                    </code></pre>
</div>
</div>
<p>The object <code>dollaEx_webData</code> basically contains unique strings that contain data from the column of the table in the <code>url.</code> If you look closely, you will see a recurring pattern of strings, each starting with <code>""&lt;td&gt;&lt;a href='/"</code>and ending with a double <code>"&lt;/tr&gt;"</code>; and ideally, this is the trick. The ability to understand the output and content of <code>dollaEx_clean.</code></p>
<p>If you then count these start and end of recurring patterns, you find that they are 7 in number, so a single country data is composed of 7 unique strings Try viewing the first 25 rows of <code>dollaEx_clean</code>, you will be able to see what I mean.</p>
<p>Take these unique strings and turn them into a matrix with each column containing the vital pieces of information and drop what is NOT required.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1">dollaEx_matrix <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matrix</span>(dollaEx_clean, </span>
<span id="cb33-2">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 7 columns because there were 7 unique strings</span></span>
<span id="cb33-3">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">byrow =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in matrix(dollaEx_clean, ncol = 7, byrow = TRUE): data length [1335] is
not a sub-multiple or multiple of the number of rows [191]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(dollaEx_matrix, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]                                          
[1,] "Select indicator&lt;/a&gt;"                        
[2,] "&lt;div style=\"width: 100%; overflow: auto;\"&gt;"
[3,] "&lt;/br&gt;&lt;/br&gt;"                                  
[4,] "&lt;th&gt;Change three months&lt;/th&gt;"                
     [,2]                                                                                                                                                                                                                          
[1,] "&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"                                                                                                                      
[2,] "The amount of local currency units that can be exchanged for one USD. An increase (decrease) means USD appreciation (depreciation). The values are monthly averages of the daily exchange rates provided by Google Finance. "
[3,] "&lt;table id=\"benchmarkTable\" class=\"sortable\" style=\"width: 100%; max-width: 750px;\"&gt;"                                                                                                                                   
[4,] "&lt;th&gt;Change twelve months&lt;/th&gt;"                                                                                                                                                                                               
     [,3]        
[1,] "&lt;/div&gt;"    
[2,] "&lt;/br&gt;&lt;/br&gt;"
[3,] "&lt;thead&gt;"   
[4,] "&lt;/tr&gt;"     
     [,4]                                                                           
[1,] ""                                                                             
[2,] "&lt;div style=\"width: auto; max-width: 300px; float: left; margin: 0 0 0 0px\"&gt;"
[3,] "&lt;tr style=\"height: 40px;\"&gt;"                                                 
[4,] "&lt;/thead&gt;"                                                                     
     [,5]                                                                                                                                               
[1,] "&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                                                                
[2,] "&lt;a href=\"https://www.theglobaleconomy.com/download-data.php\" target=\"_blank\" style=\"font-weight: bold;\"&gt;Download data from our database&lt;/a&gt;"
[3,] "&lt;th&gt;Countries&lt;/th&gt;"                                                                                                                               
[4,] "&lt;tbody&gt;"                                                                                                                                          
     [,6]                                                                                                                                                                   
[1,] ""                                                                                                                                                                     
[2,] "&lt;!-- &lt;a href=\"https://www.theglobaleconomy.com/data_feed_api.php\" target=\"_blank\" style=\"color: #e2bb04; display: inline-block; margin: 0 0 0 20px;\"&gt;API&lt;/a&gt;--&gt;"
[3,] "&lt;th&gt;Latest value&lt;/th&gt;"                                                                                                                                                
[4,] "&lt;tr&gt;"                                                                                                                                                                 
     [,7]                                                                                                                     
[1,] "&lt;div style=\"width: 98%; max-width: 750px; text-align: justify; float:left; vertical-align:top; margin: 10px 0 0 5px\"&gt;"
[2,] "&lt;/div&gt;"                                                                                                                 
[3,] "&lt;th&gt;Reference&lt;/th&gt;"                                                                                                     
[4,] "&lt;td&gt;&lt;a href='/Afghanistan/Dollar_exchange_rate/' style=\"color:#000;\"&gt;Afghanistan&lt;/a&gt;&lt;/td&gt;"                            </code></pre>
</div>
</div>
<p>The matrix contains 7 columns (7 uniques strings, remember?). Information that we are most interested in (i.e the columns of the table in the url) are contained in the following columns of the matrix.</p>
<ul>
<li>column 1 contains country</li>
<li>column 3 contains latest data from</li>
<li>column 2 contains latest value</li>
<li>column 4 contains change 3 months</li>
<li>column 5 contains change 12 months</li>
</ul>
<p>With this information, we can now construct the final clean matrix by droping column 6 and 7 which contains nothing we are interested in.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># drop columns that don't contain information of interest</span></span>
<span id="cb37-2">dollaEx_matrix_clean <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dollaEx_matrix[, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)]</span>
<span id="cb37-3"></span>
<span id="cb37-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(dollaEx_matrix_clean, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1]                                          
[1,] "Select indicator&lt;/a&gt;"                        
[2,] "&lt;div style=\"width: 100%; overflow: auto;\"&gt;"
[3,] "&lt;/br&gt;&lt;/br&gt;"                                  
[4,] "&lt;th&gt;Change three months&lt;/th&gt;"                
[5,] "&lt;td&gt;70.7133&lt;/td&gt;"                            
     [,2]                                                                                                                                                                                                                          
[1,] "&lt;div style=\"font-size: 0.8em;text-align: center;\"&gt;* indicates monthly or quarterly data series&lt;/div&gt;"                                                                                                                      
[2,] "The amount of local currency units that can be exchanged for one USD. An increase (decrease) means USD appreciation (depreciation). The values are monthly averages of the daily exchange rates provided by Google Finance. "
[3,] "&lt;table id=\"benchmarkTable\" class=\"sortable\" style=\"width: 100%; max-width: 750px;\"&gt;"                                                                                                                                   
[4,] "&lt;th&gt;Change twelve months&lt;/th&gt;"                                                                                                                                                                                               
[5,] "&lt;td&gt;Aug / 2024&lt;/td&gt;"                                                                                                                                                                                                         
     [,3]             
[1,] "&lt;/div&gt;"         
[2,] "&lt;/br&gt;&lt;/br&gt;"     
[3,] "&lt;thead&gt;"        
[4,] "&lt;/tr&gt;"          
[5,] "&lt;td&gt;-0.61%&lt;/td&gt;"
     [,4]                                                                           
[1,] ""                                                                             
[2,] "&lt;div style=\"width: auto; max-width: 300px; float: left; margin: 0 0 0 0px\"&gt;"
[3,] "&lt;tr style=\"height: 40px;\"&gt;"                                                 
[4,] "&lt;/thead&gt;"                                                                     
[5,] "&lt;td&gt;-17.45%&lt;/td&gt;"                                                             
     [,5]                                                                                                                                               
[1,] "&lt;div style=\"float: left; width: 35px; height: 20px;\" class=\"more850px\"&gt;&lt;/div&gt;"                                                                
[2,] "&lt;a href=\"https://www.theglobaleconomy.com/download-data.php\" target=\"_blank\" style=\"font-weight: bold;\"&gt;Download data from our database&lt;/a&gt;"
[3,] "&lt;th&gt;Countries&lt;/th&gt;"                                                                                                                               
[4,] "&lt;tbody&gt;"                                                                                                                                          
[5,] "&lt;/tr&gt;"                                                                                                                                            </code></pre>
</div>
</div>
<p>Now construct a tibble from the above matrix and this will be our final product of the table from the url</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># final table</span></span>
<span id="cb39-2">exchange_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(</span>
<span id="cb39-3">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Country =</span> dollaEx_matrix_clean[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>],</span>
<span id="cb39-4">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatestData =</span> dollaEx_matrix_clean[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>],</span>
<span id="cb39-5">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatesValue =</span> dollaEx_matrix_clean[, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>],</span>
<span id="cb39-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Change3months =</span> dollaEx_matrix_clean[ ,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>],</span>
<span id="cb39-7">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Change12months =</span> dollaEx_matrix_clean[ ,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]</span>
<span id="cb39-8">    )</span>
<span id="cb39-9"></span>
<span id="cb39-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(exchange_data)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 5
  Country                     LatestData LatesValue Change3months Change12months
  &lt;chr&gt;                       &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt;         
1 "Select indicator&lt;/a&gt;"      &lt;/div&gt;     "&lt;div styâ€¦ ""            "&lt;div style=\â€¦
2 "&lt;div style=\"width: 100%;â€¦ &lt;/br&gt;&lt;/br&gt; "The amouâ€¦ "&lt;div style=â€¦ "&lt;a href=\"htâ€¦
3 "&lt;/br&gt;&lt;/br&gt;"                &lt;thead&gt;    "&lt;table iâ€¦ "&lt;tr style=\â€¦ "&lt;th&gt;Countrieâ€¦
4 "&lt;th&gt;Change three months&lt;/â€¦ &lt;/tr&gt;      "&lt;th&gt;Chanâ€¦ "&lt;/thead&gt;"    "&lt;tbody&gt;"     
5 "&lt;td&gt;70.7133&lt;/td&gt;"          &lt;td&gt;-0.61â€¦ "&lt;td&gt;Aug â€¦ "&lt;td&gt;-17.45%â€¦ "&lt;/tr&gt;"       
6 "&lt;td&gt;90.7575&lt;/td&gt;"          &lt;td&gt;-2.10â€¦ "&lt;td&gt;Aug â€¦ "&lt;td&gt;-6.33%&lt;â€¦ "&lt;/tr&gt;"       </code></pre>
</div>
</div>
<p>Further clean up process for the columns (They donâ€™t contain usable date yet), so many html tags that needs to be removed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1">exchange_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> exchange_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb41-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb41-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Country =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/Dollar_exchange_rate/.*"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove all characters after "/Dollar_exchange_rate/"</span></span>
<span id="cb41-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Country =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;td&gt;&lt;a href='/"</span>)            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove the start tag for each value of country</span></span>
<span id="cb41-5">  )</span>
<span id="cb41-6"></span>
<span id="cb41-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(exchange_data, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 Ã— 5
  Country                     LatestData LatesValue Change3months Change12months
  &lt;chr&gt;                       &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;         &lt;chr&gt;         
1 "Select indicator&lt;/a&gt;"      &lt;/div&gt;     "&lt;div styâ€¦ ""            "&lt;div style=\â€¦
2 "&lt;div style=\"width: 100%;â€¦ &lt;/br&gt;&lt;/br&gt; "The amouâ€¦ "&lt;div style=â€¦ "&lt;a href=\"htâ€¦
3 "&lt;/br&gt;&lt;/br&gt;"                &lt;thead&gt;    "&lt;table iâ€¦ "&lt;tr style=\â€¦ "&lt;th&gt;Countrieâ€¦
4 "&lt;th&gt;Change three months&lt;/â€¦ &lt;/tr&gt;      "&lt;th&gt;Chanâ€¦ "&lt;/thead&gt;"    "&lt;tbody&gt;"     
5 "&lt;td&gt;70.7133&lt;/td&gt;"          &lt;td&gt;-0.61â€¦ "&lt;td&gt;Aug â€¦ "&lt;td&gt;-17.45%â€¦ "&lt;/tr&gt;"       </code></pre>
</div>
</div>
<p>The rest contain almost similar pattern, we are going to clean all them at a go. Basically remove the patterns/tags <code>&lt;td&gt;</code> and <code>&lt;/td&gt;</code> from our columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1">exchange_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> exchange_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb43-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.cols =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(LatestData<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>Change12months),</span>
<span id="cb43-3">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">.fns =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove_all</span>(., <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;td&gt;|&lt;/td&gt;"</span>)    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># remove the patterns "&lt;td&gt;|&lt;/td&gt;"</span></span>
<span id="cb43-4">                  )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb43-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">across</span>(LatesValue, as.numeric),                              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># convert to numeric column containing exchange rate</span></span>
<span id="cb43-6">         </span>
<span id="cb43-7">         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># On the date column; remove white space and replace "/" with "-"</span></span>
<span id="cb43-8">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_squish</span>(</span>
<span id="cb43-9">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_replace_all</span>(</span>
<span id="cb43-10">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">string =</span> LatestData,</span>
<span id="cb43-11">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">pattern =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/"</span>,</span>
<span id="cb43-12">             <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replacement =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span></span>
<span id="cb43-13">           )</span>
<span id="cb43-14">         )) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb43-15">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># transform `LatestData` into a proper date column</span></span>
<span id="cb43-16">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb43-17">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">my</span>(LatestData),                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># proper date format</span></span>
<span id="cb43-18">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LatestData =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span>(LatestData, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%m"</span>)           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># YYYY-mm</span></span>
<span id="cb43-19">  )</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
â„¹ In argument: `across(LatesValue, as.numeric)`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
â„¹ In argument: `LatestData = my(LatestData)`.
Caused by warning:
!  191 failed to parse.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb46" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1">exchange_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb46-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 5
  Country             LatestData LatesValue Change3months Change12months
  &lt;chr&gt;               &lt;chr&gt;           &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;         
1 &lt;td&gt;3717.0528&lt;/td&gt;  &lt;NA&gt;               NA 0.74%         &lt;/tr&gt;         
2 &lt;td&gt;41.1613&lt;/td&gt;    &lt;NA&gt;               NA 11.54%        &lt;/tr&gt;         
3 &lt;td&gt;3.6730&lt;/td&gt;     &lt;NA&gt;               NA 0.00%         &lt;/tr&gt;         
4 &lt;td&gt;0.7726&lt;/td&gt;     &lt;NA&gt;               NA -1.88%        &lt;/tr&gt;         
5 &lt;td&gt;40.3301&lt;/td&gt;    &lt;NA&gt;               NA 6.49%         &lt;/tr&gt;         
6 &lt;td&gt;12631.2350&lt;/td&gt; &lt;NA&gt;               NA 5.74%         &lt;/tr&gt;         </code></pre>
</div>
</div>
<p><strong>NOTE</strong>: The downside of this manual approach is that it always depends on the website not changing structure, for instance if we had other countries added after Zambia, then our code above would not be able to extract that extra data sadly.</p>
</section>
</section>
<section id="session-info" class="level1">
<h1>Session info</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1">sessioninfo<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">session_info</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>â”€ Session info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 setting  value
 version  R version 4.3.2 (2023-10-31)
 os       macOS Sonoma 14.6.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Europe/London
 date     2024-09-08
 pandoc   3.1.11 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/aarch64/ (via rmarkdown)

â”€ Packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 package           * version date (UTC) lib source
 askpass             1.2.0   2023-09-03 [1] CRAN (R 4.3.0)
 cli                 3.6.3   2024-06-21 [1] CRAN (R 4.3.3)
 colorspace          2.1-1   2024-07-26 [1] CRAN (R 4.3.3)
 crayon              1.5.3   2024-06-20 [1] CRAN (R 4.3.3)
 crosstalk           1.2.1   2023-11-23 [1] CRAN (R 4.3.1)
 crul                1.5.0   2024-07-19 [1] CRAN (R 4.3.3)
 curl                5.2.1   2024-03-01 [1] CRAN (R 4.3.1)
 data.table          1.15.4  2024-03-30 [1] CRAN (R 4.3.1)
 digest              0.6.37  2024-08-19 [1] CRAN (R 4.3.3)
 dplyr             * 1.1.4   2023-11-17 [1] CRAN (R 4.3.1)
 evaluate            0.24.0  2024-06-10 [1] CRAN (R 4.3.3)
 fansi               1.0.6   2023-12-08 [1] CRAN (R 4.3.1)
 fastmap             1.2.0   2024-05-15 [1] CRAN (R 4.3.3)
 flextable         * 0.9.6   2024-05-05 [1] CRAN (R 4.3.1)
 fontBitstreamVera   0.1.1   2017-02-01 [1] CRAN (R 4.3.0)
 fontLiberation      0.1.0   2016-10-15 [1] CRAN (R 4.3.0)
 fontquiver          0.2.1   2017-02-01 [1] CRAN (R 4.3.0)
 forcats           * 1.0.0   2023-01-29 [1] CRAN (R 4.3.0)
 gdtools             0.3.7   2024-03-05 [1] CRAN (R 4.3.1)
 generics            0.1.3   2022-07-05 [1] CRAN (R 4.3.0)
 gfonts              0.2.0   2023-01-08 [1] CRAN (R 4.3.0)
 ggplot2           * 3.5.1   2024-04-23 [1] CRAN (R 4.3.1)
 ggthemes          * 5.1.0   2024-02-10 [1] CRAN (R 4.3.1)
 glue                1.7.0   2024-01-09 [1] CRAN (R 4.3.1)
 gtable              0.3.5   2024-04-22 [1] CRAN (R 4.3.1)
 here              * 1.0.1   2020-12-13 [1] CRAN (R 4.3.0)
 hms                 1.1.3   2023-03-21 [1] CRAN (R 4.3.0)
 htmltools           0.5.8.1 2024-04-04 [1] CRAN (R 4.3.1)
 htmlwidgets         1.6.4   2023-12-06 [1] CRAN (R 4.3.1)
 httpcode            0.3.0   2020-04-10 [1] CRAN (R 4.3.0)
 httpuv              1.6.15  2024-03-26 [1] CRAN (R 4.3.1)
 httr                1.4.7   2023-08-15 [1] CRAN (R 4.3.0)
 jsonlite            1.8.8   2023-12-04 [1] CRAN (R 4.3.1)
 knitr               1.48    2024-07-07 [1] CRAN (R 4.3.3)
 later               1.3.2   2023-12-06 [1] CRAN (R 4.3.1)
 lifecycle           1.0.4   2023-11-07 [1] CRAN (R 4.3.1)
 lubridate         * 1.9.3   2023-09-27 [1] CRAN (R 4.3.1)
 magrittr            2.0.3   2022-03-30 [1] CRAN (R 4.3.0)
 mime                0.12    2021-09-28 [1] CRAN (R 4.3.0)
 munsell             0.5.1   2024-04-01 [1] CRAN (R 4.3.1)
 officer             0.6.6   2024-05-05 [1] CRAN (R 4.3.1)
 openssl             2.2.1   2024-08-16 [1] CRAN (R 4.3.3)
 pacman              0.5.1   2019-03-11 [1] CRAN (R 4.3.0)
 pillar              1.9.0   2023-03-22 [1] CRAN (R 4.3.0)
 pkgconfig           2.0.3   2019-09-22 [1] CRAN (R 4.3.0)
 promises            1.3.0   2024-04-05 [1] CRAN (R 4.3.1)
 purrr             * 1.0.2   2023-08-10 [1] CRAN (R 4.3.0)
 R.methodsS3         1.8.2   2022-06-13 [1] CRAN (R 4.3.0)
 R.oo                1.26.0  2024-01-24 [1] CRAN (R 4.3.1)
 R.utils             2.12.3  2023-11-18 [1] CRAN (R 4.3.1)
 R6                  2.5.1   2021-08-19 [1] CRAN (R 4.3.0)
 ragg                1.3.2   2024-05-15 [1] CRAN (R 4.3.3)
 Rcpp                1.0.13  2024-07-17 [1] CRAN (R 4.3.3)
 reactable           0.4.4   2023-03-12 [1] CRAN (R 4.3.0)
 reactR              0.5.0   2023-10-11 [1] CRAN (R 4.3.1)
 readr             * 2.1.5   2024-01-10 [1] CRAN (R 4.3.1)
 rio                 1.2.2   2024-08-19 [1] CRAN (R 4.3.3)
 rlang               1.1.4   2024-06-04 [1] CRAN (R 4.3.3)
 rmarkdown           2.28    2024-08-17 [1] CRAN (R 4.3.3)
 rprojroot           2.0.4   2023-11-05 [1] CRAN (R 4.3.1)
 rstudioapi          0.16.0  2024-03-24 [1] CRAN (R 4.3.1)
 rvest             * 1.0.4   2024-02-12 [1] CRAN (R 4.3.1)
 scales              1.3.0   2023-11-28 [1] CRAN (R 4.3.1)
 sessioninfo         1.2.2   2021-12-06 [1] CRAN (R 4.3.0)
 shiny               1.9.1   2024-08-01 [1] CRAN (R 4.3.3)
 stringi             1.8.4   2024-05-06 [1] CRAN (R 4.3.1)
 stringr           * 1.5.1   2023-11-14 [1] CRAN (R 4.3.1)
 systemfonts         1.1.0   2024-05-15 [1] CRAN (R 4.3.3)
 textshaping         0.4.0   2024-05-24 [1] CRAN (R 4.3.3)
 tibble            * 3.2.1   2023-03-20 [1] CRAN (R 4.3.0)
 tidyr             * 1.3.1   2024-01-24 [1] CRAN (R 4.3.1)
 tidyselect          1.2.1   2024-03-11 [1] CRAN (R 4.3.1)
 tidyverse         * 2.0.0   2023-02-22 [1] CRAN (R 4.3.0)
 timechange          0.3.0   2024-01-18 [1] CRAN (R 4.3.1)
 tzdb                0.4.0   2023-05-12 [1] CRAN (R 4.3.0)
 utf8                1.2.4   2023-10-22 [1] CRAN (R 4.3.1)
 uuid                1.2-1   2024-07-29 [1] CRAN (R 4.3.3)
 vctrs               0.6.5   2023-12-01 [1] CRAN (R 4.3.1)
 withr               3.0.1   2024-07-31 [1] CRAN (R 4.3.3)
 xfun                0.47    2024-08-17 [1] CRAN (R 4.3.3)
 xml2                1.3.6   2023-12-04 [1] CRAN (R 4.3.1)
 xtable              1.8-4   2019-04-21 [1] CRAN (R 4.3.0)
 yaml                2.3.10  2024-07-26 [1] CRAN (R 4.3.3)
 zip                 2.3.1   2024-01-27 [1] CRAN (R 4.3.1)

 [1] /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</code></pre>
</div>
</div>


</section>

 ]]></description>
  <category>Data mining</category>
  <category>Data wrangling</category>
  <category>tidyverse</category>
  <guid>https://cmaronga.github.io/codecraft.blog/posts/web-scraping-in-R/index.html</guid>
  <pubDate>Tue, 31 Oct 2023 00:00:00 GMT</pubDate>
  <media:content url="https://cmaronga.github.io/codecraft.blog/posts/web-scraping-in-R/web-scraping.jpeg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>dplyr::coalesce() in action</title>
  <link>https://cmaronga.github.io/codecraft.blog/posts/coalesce-in-action/index.html</link>
  <description><![CDATA[ 




<p>Viable shortcut to missing-value-free data set</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Missing data can be a major headache when handling data in R; more especially if these NAâ€™s are scattered across multiple columns representing your one variable of interest.</p>
<p>The <a href="https://dplyr.tidyverse.org/reference/coalesce.html#:~:text=Given%20a%20set%20of%20vectors,thing%20for%20SQL%20NULL%20s.">coalesce()</a> function from <a href="https://dplyr.tidyverse.org/index.html">dplyr</a> package comes in handy in such situations. In this short article, I am going to show you how powerful the function <code>coalesce()</code> is and how it can make your data manipulation task easy. To put in perspective, the function extracts the first non-missing (non-NA) value from a set of columns or values, making your data cleaner and analysis-ready, it does this by prioritizing a designated column as we will see from the worked out examples below.</p>
</section>
<section id="create-fictious-data" class="level2">
<h2 class="anchored" data-anchor-id="create-fictious-data">Create fictious data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># load packages</span></span>
<span id="cb1-2">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(</span>
<span id="cb1-3">  tidyverse,</span>
<span id="cb1-4">  flextable</span>
<span id="cb1-5">)</span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create fictitious data</span></span>
<span id="cb1-8">fict_data <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb1-9"> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>PTID, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> HT_ADM, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> HT_DISCH, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> HT_D45, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> HT_D90,       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># patient ID and Height measurements at different time-points</span></span>
<span id="cb1-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7001"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,      <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">100.1</span>,        <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,       <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,</span>
<span id="cb1-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7002"</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">97</span>,       <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">98</span>,         <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">97.5</span>,</span>
<span id="cb1-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7003"</span>,    <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">97.6</span>,     <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">97</span>,      <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">97.5</span>,</span>
<span id="cb1-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7004"</span>,    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,  <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99</span>,        <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">99.8</span>,     <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,</span>
<span id="cb1-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7005"</span>,    <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">79.5</span>,  <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,   <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">78.9</span>,     <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,</span>
<span id="cb1-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7006"</span>,    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,  <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,   <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,  <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">102.1</span>,</span>
<span id="cb1-16">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7007"</span>,    <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">78.5</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">79</span>,         <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,</span>
<span id="cb1-17">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"7008"</span>,    <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>,      <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">98</span>,        <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">98</span>,       <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_real_</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># qflextable-it</span></span>
<span id="cb2-2">fict_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qflextable</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="tbl-fakedata" class="anchored">

<div class="tabwid"><style>.cl-43af6c8c{}.cl-43acfe16{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43adf0c8{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43adf0c9{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43adf8ca{width:0.633in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8cb{width:0.913in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8cc{width:1.049in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8d4{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8d5{width:0.633in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8d6{width:0.913in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8d7{width:1.049in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8de{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8df{width:0.633in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e0{width:0.913in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e1{width:1.049in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e2{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e3{width:0.633in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e8{width:0.913in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8e9{width:1.049in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8ea{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8eb{width:0.633in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8ec{width:0.913in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8f2{width:1.049in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43adf8f3{width:0.854in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-43af6c8c"><caption>Table&nbsp;1:  <p>Ficticious patient data</p> </caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-43adf8ca"><p class="cl-43adf0c8"><span class="cl-43acfe16">PTID</span></p></th><th class="cl-43adf8cb"><p class="cl-43adf0c9"><span class="cl-43acfe16">HT_ADM</span></p></th><th class="cl-43adf8cc"><p class="cl-43adf0c9"><span class="cl-43acfe16">HT_DISCH</span></p></th><th class="cl-43adf8d4"><p class="cl-43adf0c9"><span class="cl-43acfe16">HT_D45</span></p></th><th class="cl-43adf8d4"><p class="cl-43adf0c9"><span class="cl-43acfe16">HT_D90</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-43adf8d5"><p class="cl-43adf0c8"><span class="cl-43acfe16">7001</span></p></td><td class="cl-43adf8d6"><p class="cl-43adf0c9"><span class="cl-43acfe16">100.0</span></p></td><td class="cl-43adf8d7"><p class="cl-43adf0c9"><span class="cl-43acfe16">100.1</span></p></td><td class="cl-43adf8de"><p class="cl-43adf0c9"><span class="cl-43acfe16">100.0</span></p></td><td class="cl-43adf8de"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8df"><p class="cl-43adf0c8"><span class="cl-43acfe16">7002</span></p></td><td class="cl-43adf8e0"><p class="cl-43adf0c9"><span class="cl-43acfe16">97.0</span></p></td><td class="cl-43adf8e1"><p class="cl-43adf0c9"><span class="cl-43acfe16">98.0</span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16">97.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8e3"><p class="cl-43adf0c8"><span class="cl-43acfe16">7003</span></p></td><td class="cl-43adf8e8"><p class="cl-43adf0c9"><span class="cl-43acfe16">97.6</span></p></td><td class="cl-43adf8e9"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8ea"><p class="cl-43adf0c9"><span class="cl-43acfe16">97.0</span></p></td><td class="cl-43adf8ea"><p class="cl-43adf0c9"><span class="cl-43acfe16">97.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8df"><p class="cl-43adf0c8"><span class="cl-43acfe16">7004</span></p></td><td class="cl-43adf8e0"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e1"><p class="cl-43adf0c9"><span class="cl-43acfe16">99.0</span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16">99.8</span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8df"><p class="cl-43adf0c8"><span class="cl-43acfe16">7005</span></p></td><td class="cl-43adf8e0"><p class="cl-43adf0c9"><span class="cl-43acfe16">79.5</span></p></td><td class="cl-43adf8e1"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16">78.9</span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8df"><p class="cl-43adf0c8"><span class="cl-43acfe16">7006</span></p></td><td class="cl-43adf8e0"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e1"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16">102.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8df"><p class="cl-43adf0c8"><span class="cl-43acfe16">7007</span></p></td><td class="cl-43adf8e0"><p class="cl-43adf0c9"><span class="cl-43acfe16">78.5</span></p></td><td class="cl-43adf8e1"><p class="cl-43adf0c9"><span class="cl-43acfe16">79.0</span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8e2"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43adf8eb"><p class="cl-43adf0c8"><span class="cl-43acfe16">7008</span></p></td><td class="cl-43adf8ec"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td><td class="cl-43adf8f2"><p class="cl-43adf0c9"><span class="cl-43acfe16">98.0</span></p></td><td class="cl-43adf8f3"><p class="cl-43adf0c9"><span class="cl-43acfe16">98.0</span></p></td><td class="cl-43adf8f3"><p class="cl-43adf0c9"><span class="cl-43acfe16"></span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
<p>The data in Table&nbsp;1 is a made up one, representing height measurements of 8 patients across 4 time-points i.e during admission, discharge, day 45 and day 90 follow up visits respectively. As you can see, there is no single column with complete data. The assumption is that the measurement are subject to some absolute error and therefore any column can be used as measured height in an analysis; the problem is that no column is complete and this is what we are going to tackle using <code>coalesce()</code></p>
</section>
<section id="creating-height-column" class="level2">
<h2 class="anchored" data-anchor-id="creating-height-column">Creating Height column</h2>
<p>The aim is to use <code>coalesce()</code> to create a column HT_cm with non-missing data using. We can try a few combination, but I am confident that if you look carefully, there are probably a few combination of two columns that can give you that.</p>
<p><strong>NOTE:</strong> This is an illustration of how <code>coalesce()</code> works, your use-case might be different, just think how this function fits in.</p>
<section id="ht_adm-vs-ht_d90" class="level3">
<h3 class="anchored" data-anchor-id="ht_adm-vs-ht_d90">HT_ADM vs HT_D90</h3>
<p>Here <code>coalesce()</code> gives priority to <code>HT_ADM</code> and if this column has some NAâ€™s while <code>HT_D90</code> has values in the same row; the values of <code>HT_D90</code> get pulled/filled in place of NAâ€™s to form <code>HT_CM</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">fict_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HT_CM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coalesce</span>(HT_ADM, HT_D90)    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># prioritize _ADM over _D90</span></span>
<span id="cb3-4">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">flextable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-43bee626{}.cl-43bcc26a{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43bd9546{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43bd9547{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43bd9b36{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43bd9b40{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43bd9b41{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43bd9b42{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43bd9b43{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43bd9b44{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-43bee626"><thead><tr style="overflow-wrap:break-word;"><th class="cl-43bd9b36"><p class="cl-43bd9546"><span class="cl-43bcc26a">PTID</span></p></th><th class="cl-43bd9b40"><p class="cl-43bd9547"><span class="cl-43bcc26a">HT_ADM</span></p></th><th class="cl-43bd9b40"><p class="cl-43bd9547"><span class="cl-43bcc26a">HT_DISCH</span></p></th><th class="cl-43bd9b40"><p class="cl-43bd9547"><span class="cl-43bcc26a">HT_D45</span></p></th><th class="cl-43bd9b40"><p class="cl-43bd9547"><span class="cl-43bcc26a">HT_D90</span></p></th><th class="cl-43bd9b40"><p class="cl-43bd9547"><span class="cl-43bcc26a">HT_CM</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7001</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.1</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7002</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">98.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.5</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7003</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.6</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.5</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">97.6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7004</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">99.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">99.8</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7005</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">79.5</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">78.9</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">79.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7006</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">102.1</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">102.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b41"><p class="cl-43bd9546"><span class="cl-43bcc26a">7007</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">78.5</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">79.0</span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b42"><p class="cl-43bd9547"><span class="cl-43bcc26a">78.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43bd9b43"><p class="cl-43bd9546"><span class="cl-43bcc26a">7008</span></p></td><td class="cl-43bd9b44"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b44"><p class="cl-43bd9547"><span class="cl-43bcc26a">98.0</span></p></td><td class="cl-43bd9b44"><p class="cl-43bd9547"><span class="cl-43bcc26a">98.0</span></p></td><td class="cl-43bd9b44"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td><td class="cl-43bd9b44"><p class="cl-43bd9547"><span class="cl-43bcc26a"></span></p></td></tr></tbody></table></div>
</div>
</div>
<p>But we still have one more missing value for patient 7008</p>
</section>
<section id="ht_adm-vs-ht_dish" class="level3">
<h3 class="anchored" data-anchor-id="ht_adm-vs-ht_dish">HT_ADM vs HT_DISH</h3>
<p>Take a combination of measurement at admission and discharge for instance.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">fict_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb4-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HT_CM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coalesce</span>(HT_ADM, HT_DISCH) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># prioritize _ADM over _DISCH</span></span>
<span id="cb4-4">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">flextable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-43c59bf6{}.cl-43c339b0{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43c45502{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43c45503{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43c45b10{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43c45b11{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43c45b1a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43c45b1b{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43c45b1c{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43c45b1d{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-43c59bf6"><thead><tr style="overflow-wrap:break-word;"><th class="cl-43c45b10"><p class="cl-43c45502"><span class="cl-43c339b0">PTID</span></p></th><th class="cl-43c45b11"><p class="cl-43c45503"><span class="cl-43c339b0">HT_ADM</span></p></th><th class="cl-43c45b11"><p class="cl-43c45503"><span class="cl-43c339b0">HT_DISCH</span></p></th><th class="cl-43c45b11"><p class="cl-43c45503"><span class="cl-43c339b0">HT_D45</span></p></th><th class="cl-43c45b11"><p class="cl-43c45503"><span class="cl-43c339b0">HT_D90</span></p></th><th class="cl-43c45b11"><p class="cl-43c45503"><span class="cl-43c339b0">HT_CM</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7001</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">100.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">100.1</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">100.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7002</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">98.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.5</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7003</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.6</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.5</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">97.6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7004</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">99.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">99.8</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">100.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">99.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7005</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">79.5</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">78.9</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">79.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7006</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">102.1</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1a"><p class="cl-43c45502"><span class="cl-43c339b0">7007</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">78.5</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">79.0</span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1b"><p class="cl-43c45503"><span class="cl-43c339b0">78.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43c45b1c"><p class="cl-43c45502"><span class="cl-43c339b0">7008</span></p></td><td class="cl-43c45b1d"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1d"><p class="cl-43c45503"><span class="cl-43c339b0">98.0</span></p></td><td class="cl-43c45b1d"><p class="cl-43c45503"><span class="cl-43c339b0">98.0</span></p></td><td class="cl-43c45b1d"><p class="cl-43c45503"><span class="cl-43c339b0"></span></p></td><td class="cl-43c45b1d"><p class="cl-43c45503"><span class="cl-43c339b0">98.0</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Same problem, we still have a missing cell for patient 7006 on the HT_CM column</p>
</section>
<section id="ht_d90-vs-ht_disch" class="level3">
<h3 class="anchored" data-anchor-id="ht_d90-vs-ht_disch">HT_D90 vs HT_DISCH</h3>
<p>We can reverse the natural order of the visits and the logic still remains. In the below example, <code>coalesce()</code> prioritizes <code>HT_D90</code> over <code>HT_DISCH</code> but we still end up a missing cell in patient 7005 since both measurements are NA at discharge and at day 90.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">fict_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb5-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HT_CM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coalesce</span>(HT_D90, HT_DISCH)   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># prioritize _D90 over _DISCH</span></span>
<span id="cb5-4">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span>  </span>
<span id="cb5-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">flextable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-43cc4eb0{}.cl-43c9e27e{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43cabd3e{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43cabd48{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43cac3e2{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43cac3ec{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43cac3ed{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43cac3ee{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43cac3ef{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43cac3f0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-43cc4eb0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-43cac3e2"><p class="cl-43cabd3e"><span class="cl-43c9e27e">PTID</span></p></th><th class="cl-43cac3ec"><p class="cl-43cabd48"><span class="cl-43c9e27e">HT_ADM</span></p></th><th class="cl-43cac3ec"><p class="cl-43cabd48"><span class="cl-43c9e27e">HT_DISCH</span></p></th><th class="cl-43cac3ec"><p class="cl-43cabd48"><span class="cl-43c9e27e">HT_D45</span></p></th><th class="cl-43cac3ec"><p class="cl-43cabd48"><span class="cl-43c9e27e">HT_D90</span></p></th><th class="cl-43cac3ec"><p class="cl-43cabd48"><span class="cl-43c9e27e">HT_CM</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7001</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.1</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7002</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">98.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.5</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7003</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.6</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.5</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">97.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7004</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">99.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">99.8</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7005</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">79.5</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">78.9</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7006</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">102.1</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">102.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ed"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7007</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">78.5</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">79.0</span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3ee"><p class="cl-43cabd48"><span class="cl-43c9e27e">79.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43cac3ef"><p class="cl-43cabd3e"><span class="cl-43c9e27e">7008</span></p></td><td class="cl-43cac3f0"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3f0"><p class="cl-43cabd48"><span class="cl-43c9e27e">98.0</span></p></td><td class="cl-43cac3f0"><p class="cl-43cabd48"><span class="cl-43c9e27e">98.0</span></p></td><td class="cl-43cac3f0"><p class="cl-43cabd48"><span class="cl-43c9e27e"></span></p></td><td class="cl-43cac3f0"><p class="cl-43cabd48"><span class="cl-43c9e27e">98.0</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
<section id="use-all-columns" class="level3">
<h3 class="anchored" data-anchor-id="use-all-columns">Use all columns</h3>
<p>The ideal is to use all the columns. <code>coalesce()</code> prioritizes form â€œleft to rightâ€ (in this case <code>HT_ADM</code>) filling in the missing cells on the left with the first non-missing value it encounters to the right. This is how it takes care of the non-missing business in your data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">fict_data <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb6-3">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">HT_CM =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coalesce</span>(HT_ADM, HT_DISCH, HT_D45, HT_D90)</span>
<span id="cb6-4">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb6-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">flextable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-43d2d348{}.cl-43d0a910{font-family:'Helvetica';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-43d180f6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43d180f7{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-43d18786{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d18787{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d18790{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d18791{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d18792{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-43d1879a{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-43d2d348"><thead><tr style="overflow-wrap:break-word;"><th class="cl-43d18786"><p class="cl-43d180f6"><span class="cl-43d0a910">PTID</span></p></th><th class="cl-43d18787"><p class="cl-43d180f7"><span class="cl-43d0a910">HT_ADM</span></p></th><th class="cl-43d18787"><p class="cl-43d180f7"><span class="cl-43d0a910">HT_DISCH</span></p></th><th class="cl-43d18787"><p class="cl-43d180f7"><span class="cl-43d0a910">HT_D45</span></p></th><th class="cl-43d18787"><p class="cl-43d180f7"><span class="cl-43d0a910">HT_D90</span></p></th><th class="cl-43d18787"><p class="cl-43d180f7"><span class="cl-43d0a910">HT_CM</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7001</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">100.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">100.1</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">100.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">100.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7002</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">98.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.5</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7003</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.6</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.5</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">97.6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7004</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">99.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">99.8</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">100.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">99.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7005</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">79.5</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">78.9</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">79.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7006</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">102.1</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">102.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18790"><p class="cl-43d180f6"><span class="cl-43d0a910">7007</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">78.5</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">79.0</span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d18791"><p class="cl-43d180f7"><span class="cl-43d0a910">78.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-43d18792"><p class="cl-43d180f6"><span class="cl-43d0a910">7008</span></p></td><td class="cl-43d1879a"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d1879a"><p class="cl-43d180f7"><span class="cl-43d0a910">98.0</span></p></td><td class="cl-43d1879a"><p class="cl-43d180f7"><span class="cl-43d0a910">98.0</span></p></td><td class="cl-43d1879a"><p class="cl-43d180f7"><span class="cl-43d0a910"></span></p></td><td class="cl-43d1879a"><p class="cl-43d180f7"><span class="cl-43d0a910">98.0</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>I hope the examples helped you understand this simple, yet powerful function to handle missing data in your data wrangling efforts.</p>
</section>
<section id="session-info" class="level1">
<h1>Session info</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">sessioninfo<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">session_info</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>â”€ Session info â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 setting  value
 version  R version 4.3.2 (2023-10-31)
 os       macOS Sonoma 14.6.1
 system   aarch64, darwin20
 ui       X11
 language (EN)
 collate  en_US.UTF-8
 ctype    en_US.UTF-8
 tz       Europe/London
 date     2024-08-21
 pandoc   3.1.11 @ /Applications/RStudio.app/Contents/Resources/app/quarto/bin/tools/aarch64/ (via rmarkdown)

â”€ Packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
 package           * version date (UTC) lib source
 askpass             1.2.0   2023-09-03 [1] CRAN (R 4.3.0)
 cli                 3.6.3   2024-06-21 [1] CRAN (R 4.3.3)
 colorspace          2.1-0   2023-01-23 [1] CRAN (R 4.3.0)
 crayon              1.5.3   2024-06-20 [1] CRAN (R 4.3.3)
 crul                1.4.2   2024-04-09 [1] CRAN (R 4.3.1)
 curl                5.2.1   2024-03-01 [1] CRAN (R 4.3.1)
 data.table          1.15.4  2024-03-30 [1] CRAN (R 4.3.1)
 digest              0.6.36  2024-06-23 [1] CRAN (R 4.3.3)
 dplyr             * 1.1.4   2023-11-17 [1] CRAN (R 4.3.1)
 evaluate            0.24.0  2024-06-10 [1] CRAN (R 4.3.3)
 fansi               1.0.6   2023-12-08 [1] CRAN (R 4.3.1)
 fastmap             1.2.0   2024-05-15 [1] CRAN (R 4.3.3)
 flextable         * 0.9.6   2024-05-05 [1] CRAN (R 4.3.1)
 fontBitstreamVera   0.1.1   2017-02-01 [1] CRAN (R 4.3.0)
 fontLiberation      0.1.0   2016-10-15 [1] CRAN (R 4.3.0)
 fontquiver          0.2.1   2017-02-01 [1] CRAN (R 4.3.0)
 forcats           * 1.0.0   2023-01-29 [1] CRAN (R 4.3.0)
 gdtools             0.3.7   2024-03-05 [1] CRAN (R 4.3.1)
 generics            0.1.3   2022-07-05 [1] CRAN (R 4.3.0)
 gfonts              0.2.0   2023-01-08 [1] CRAN (R 4.3.0)
 ggplot2           * 3.5.1   2024-04-23 [1] CRAN (R 4.3.1)
 glue                1.7.0   2024-01-09 [1] CRAN (R 4.3.1)
 gtable              0.3.5   2024-04-22 [1] CRAN (R 4.3.1)
 hms                 1.1.3   2023-03-21 [1] CRAN (R 4.3.0)
 htmltools           0.5.8.1 2024-04-04 [1] CRAN (R 4.3.1)
 htmlwidgets         1.6.4   2023-12-06 [1] CRAN (R 4.3.1)
 httpcode            0.3.0   2020-04-10 [1] CRAN (R 4.3.0)
 httpuv              1.6.15  2024-03-26 [1] CRAN (R 4.3.1)
 jsonlite            1.8.8   2023-12-04 [1] CRAN (R 4.3.1)
 knitr               1.48    2024-07-07 [1] CRAN (R 4.3.3)
 later               1.3.2   2023-12-06 [1] CRAN (R 4.3.1)
 lifecycle           1.0.4   2023-11-07 [1] CRAN (R 4.3.1)
 lubridate         * 1.9.3   2023-09-27 [1] CRAN (R 4.3.1)
 magrittr            2.0.3   2022-03-30 [1] CRAN (R 4.3.0)
 mime                0.12    2021-09-28 [1] CRAN (R 4.3.0)
 munsell             0.5.1   2024-04-01 [1] CRAN (R 4.3.1)
 officer             0.6.6   2024-05-05 [1] CRAN (R 4.3.1)
 openssl             2.2.0   2024-05-16 [1] CRAN (R 4.3.3)
 pacman              0.5.1   2019-03-11 [1] CRAN (R 4.3.0)
 pillar              1.9.0   2023-03-22 [1] CRAN (R 4.3.0)
 pkgconfig           2.0.3   2019-09-22 [1] CRAN (R 4.3.0)
 promises            1.3.0   2024-04-05 [1] CRAN (R 4.3.1)
 purrr             * 1.0.2   2023-08-10 [1] CRAN (R 4.3.0)
 R6                  2.5.1   2021-08-19 [1] CRAN (R 4.3.0)
 ragg                1.3.2   2024-05-15 [1] CRAN (R 4.3.3)
 Rcpp                1.0.12  2024-01-09 [1] CRAN (R 4.3.1)
 readr             * 2.1.5   2024-01-10 [1] CRAN (R 4.3.1)
 rlang               1.1.4   2024-06-04 [1] CRAN (R 4.3.3)
 rmarkdown           2.27    2024-05-17 [1] CRAN (R 4.3.3)
 rstudioapi          0.16.0  2024-03-24 [1] CRAN (R 4.3.1)
 scales              1.3.0   2023-11-28 [1] CRAN (R 4.3.1)
 sessioninfo         1.2.2   2021-12-06 [1] CRAN (R 4.3.0)
 shiny               1.8.1.1 2024-04-02 [1] CRAN (R 4.3.1)
 stringi             1.8.4   2024-05-06 [1] CRAN (R 4.3.1)
 stringr           * 1.5.1   2023-11-14 [1] CRAN (R 4.3.1)
 systemfonts         1.1.0   2024-05-15 [1] CRAN (R 4.3.3)
 textshaping         0.4.0   2024-05-24 [1] CRAN (R 4.3.3)
 tibble            * 3.2.1   2023-03-20 [1] CRAN (R 4.3.0)
 tidyr             * 1.3.1   2024-01-24 [1] CRAN (R 4.3.1)
 tidyselect          1.2.1   2024-03-11 [1] CRAN (R 4.3.1)
 tidyverse         * 2.0.0   2023-02-22 [1] CRAN (R 4.3.0)
 timechange          0.3.0   2024-01-18 [1] CRAN (R 4.3.1)
 tzdb                0.4.0   2023-05-12 [1] CRAN (R 4.3.0)
 utf8                1.2.4   2023-10-22 [1] CRAN (R 4.3.1)
 uuid                1.2-0   2024-01-14 [1] CRAN (R 4.3.1)
 vctrs               0.6.5   2023-12-01 [1] CRAN (R 4.3.1)
 withr               3.0.0   2024-01-16 [1] CRAN (R 4.3.1)
 xfun                0.45    2024-06-16 [1] CRAN (R 4.3.3)
 xml2                1.3.6   2023-12-04 [1] CRAN (R 4.3.1)
 xtable              1.8-4   2019-04-21 [1] CRAN (R 4.3.0)
 yaml                2.3.9   2024-07-05 [1] CRAN (R 4.3.3)
 zip                 2.3.1   2024-01-27 [1] CRAN (R 4.3.1)

 [1] /Library/Frameworks/R.framework/Versions/4.3-arm64/Resources/library

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</code></pre>
</div>
</div>


</section>

 ]]></description>
  <category>Data wrangling</category>
  <category>tidyverse</category>
  <category>code</category>
  <guid>https://cmaronga.github.io/codecraft.blog/posts/coalesce-in-action/index.html</guid>
  <pubDate>Thu, 26 Oct 2023 23:00:00 GMT</pubDate>
  <media:content url="https://cmaronga.github.io/codecraft.blog/posts/coalesce-in-action/coalesce.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Celebrating 100 days of Gym dedication</title>
  <link>https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index.html</link>
  <description><![CDATA[ 




<p>Because I can exercise and share a brief story!</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Welcome to the journey of celebrating 100 days of unwavering dedication to my fitness regimen. Beginning of the year, I embarked on a quest for personal betterment, focusing on gym weight-lifting and outdoor running exercises, with a target of achieving at least 11 kilometers each weekend (fun fact: I exceeded my goal by running approximately 28 kilometers in just about two weekends).</p>
<p>This journey culminated in a staggering 100 days of sheer hard work, unwavering dedication, and a growing passion for all things fitness. In this article, I aim to take you through this transformative 100-day journey, sharing the challenges I overcame, and the invaluable lessons Iâ€™ve learned along the way.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load packages for session</span></span>
<span id="cb1-2">pacman<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">p_load</span>(</span>
<span id="cb1-3">  lubridate,   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># handle and manage dates</span></span>
<span id="cb1-4">  flextable,   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for quick and neat tables</span></span>
<span id="cb1-5">  ggthemes,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ggplot2 themes extension</span></span>
<span id="cb1-6">  here,        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># manage file paths</span></span>
<span id="cb1-7">  rio,         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># data import</span></span>
<span id="cb1-8">  scales,      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># for the date label function</span></span>
<span id="cb1-9">  tidyverse    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># data wrangling and viz</span></span>
<span id="cb1-10">)</span>
<span id="cb1-11"></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># set theme for ggplot2</span></span>
<span id="cb1-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_set</span>(</span>
<span id="cb1-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_hc</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># base size</span></span>
<span id="cb1-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(</span>
<span id="cb1-16">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># No legend, unless specified in the plot</span></span>
<span id="cb1-17">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># No title on the legend</span></span>
<span id="cb1-18">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>) <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># spin y title 90 degrees</span></span>
<span id="cb1-19">    )</span>
<span id="cb1-20">)</span></code></pre></div>
</div>
<p>The below code below utilize the <code>tribble</code> function to create row-wise tibble of the workout data for the months beggining January 2023 to my celebration month and date.</p>
<p>I also import an excel log (from the gym logs) capturing start and end times for all the gym workouts for the months listed. This will be used to create interesting visualization later on.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Creating tibble for monthly workout counts</span></span>
<span id="cb2-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># used to visualize in the latter sections</span></span>
<span id="cb2-3">workout_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb2-4">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> month, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>n_workouts,</span>
<span id="cb2-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-01"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span> ,</span>
<span id="cb2-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-02"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>,</span>
<span id="cb2-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-03"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">05</span> ,</span>
<span id="cb2-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-04"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb2-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-05"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">02</span> ,</span>
<span id="cb2-10">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-06"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span> ,</span>
<span id="cb2-11">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-07"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>,</span>
<span id="cb2-12">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-08"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,</span>
<span id="cb2-13">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-09"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> ,</span>
<span id="cb2-14">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-10"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span></span>
<span id="cb2-15">)</span>
<span id="cb2-16"></span>
<span id="cb2-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># import gym logs</span></span>
<span id="cb2-18">gym_log_raw <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">import</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">here</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"posts"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"celebrate-100-gym-days"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"chris-gym_game.xlsx"</span>))</span>
<span id="cb2-19"></span>
<span id="cb2-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># data processing</span></span>
<span id="cb2-21">workout_df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> workout_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb2-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb2-23">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">month =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ym</span>(month),</span>
<span id="cb2-24">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n_workouts =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(n_workouts)</span>
<span id="cb2-25">  )</span></code></pre></div>
</div>
</section>
<section id="cleaning-gym-logs-data" class="level2">
<h2 class="anchored" data-anchor-id="cleaning-gym-logs-data">Cleaning gym logs data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># clean the gym log data</span></span>
<span id="cb3-2">gym_log <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> gym_log_raw <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-3">  </span>
<span id="cb3-4">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create visit date, stat time and end time</span></span>
<span id="cb3-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(</span>
<span id="cb3-6">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">visit_start_time  =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_extract</span>(visit_start, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+[aApP][mM]"</span>),       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># extract time component</span></span>
<span id="cb3-7">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">visit_end_time    =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_extract</span>(visit_end, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d+[aApP][mM]"</span>),         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># extract time component</span></span>
<span id="cb3-8">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">visit_date        =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_extract</span>(visit_start, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d{2} [A-Za-z]{3} </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\\</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">d{2}"</span>), <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># extract date component</span></span>
<span id="cb3-9">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">visit_date        =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dmy</span>(visit_date),                                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># convert into ISO date</span></span>
<span id="cb3-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">week_day          =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">wday</span>(visit_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">abbr =</span> T),                 <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># day of the week</span></span>
<span id="cb3-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">month             =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">month</span>(visit_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> T),                          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># workout month</span></span>
<span id="cb3-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">duration_mins     =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_remove</span>(duration, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" minutes"</span>)),          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># minutes in the gym</span></span>
<span id="cb3-13">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">morning_wkout     =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_detect</span>(visit_start, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"am"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Yes"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"No"</span>)     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Morning workout (Yes/No)</span></span>
<span id="cb3-14">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-15">  </span>
<span id="cb3-16">  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># drop the first 3 columns, not neede downstream</span></span>
<span id="cb3-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-18">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">arrange</span>(visit_date)</span>
<span id="cb3-19"></span>
<span id="cb3-20">gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>gym_game) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">head</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb3-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">flextable</span>()</span></code></pre></div>
<div class="cell-output-display">

<div class="tabwid"><style>.cl-757cc522{}.cl-757485d8{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7578521c{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75785226{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-75786374{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75786375{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7578637e{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-7578637f{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75786380{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-75786381{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-757cc522"><thead><tr style="overflow-wrap:break-word;"><th class="cl-75786374"><p class="cl-7578521c"><span class="cl-757485d8">visit_start_time</span></p></th><th class="cl-75786374"><p class="cl-7578521c"><span class="cl-757485d8">visit_end_time</span></p></th><th class="cl-75786375"><p class="cl-75785226"><span class="cl-757485d8">visit_date</span></p></th><th class="cl-75786374"><p class="cl-7578521c"><span class="cl-757485d8">week_day</span></p></th><th class="cl-75786374"><p class="cl-7578521c"><span class="cl-757485d8">month</span></p></th><th class="cl-75786375"><p class="cl-75785226"><span class="cl-757485d8">duration_mins</span></p></th><th class="cl-75786374"><p class="cl-7578521c"><span class="cl-757485d8">morning_wkout</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">10:47am</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">11:40am</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-02</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Mon</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">53</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">4:56pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">6:12pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-03</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Tue</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">76</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">5:21pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">6:37pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-04</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Wed</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">76</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">1:49pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">3:26pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-08</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Sun</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">97</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">8:11pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">9:23pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-09</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Mon</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">72</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">8:16pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">9:28pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-10</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Tue</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">72</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">7:45pm</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">9:04pm</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">2023-01-11</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Wed</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-7578637f"><p class="cl-75785226"><span class="cl-757485d8">79</span></p></td><td class="cl-7578637e"><p class="cl-7578521c"><span class="cl-757485d8">No</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-75786380"><p class="cl-7578521c"><span class="cl-757485d8">6:22am</span></p></td><td class="cl-75786380"><p class="cl-7578521c"><span class="cl-757485d8">7:48am</span></p></td><td class="cl-75786381"><p class="cl-75785226"><span class="cl-757485d8">2023-01-13</span></p></td><td class="cl-75786380"><p class="cl-7578521c"><span class="cl-757485d8">Fri</span></p></td><td class="cl-75786380"><p class="cl-7578521c"><span class="cl-757485d8">Jan</span></p></td><td class="cl-75786381"><p class="cl-75785226"><span class="cl-757485d8">86</span></p></td><td class="cl-75786380"><p class="cl-7578521c"><span class="cl-757485d8">Yes</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>My journey commenced with setting realistic and achievable fitness goals, providing me with a clear path and unwavering focus. My objectives included:-</p>
<ul>
<li>Enhancing full-body muscle strength</li>
<li>Build endurance</li>
<li>Overall fitness</li>
</ul>
<p>My workout routine was marked by monthly fluctuations, and I visualized these trends to identify both my best and most challenging months.</p>
<div class="cell" data-fig.dpi="300">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">workout_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb4-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> month, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> n_workouts, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> n_workouts)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># size of point depends on number of workouts</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trend of monthly gym workouts"</span>,</span>
<span id="cb4-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Past 10 months only"</span>,</span>
<span id="cb4-7">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"No. of workouts"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"month"</span>,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># break by 1 month interval</span></span>
<span id="cb4-9">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%b"</span>)       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># show only month of the year</span></span></code></pre></div>
<div class="cell-output-display">
<div id="fig-trajectory" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-trajectory-1.png" class="img-fluid figure-img" width="1248"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Monthly Gym workouts</figcaption>
</figure>
</div>
</div>
</div>
<p>Figure&nbsp;1 shows a trend of monthly workouts, with my worst efforts in the months of March and May (I have an excuse though ðŸ˜‚). I reached by best efforts in the month of July with a total of 23 gym works in that monthly only ðŸ˜°, never managed to replicate that effort, it has now since become my other additional goal, you see how it works now?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">workout_df <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span></span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> n_workouts, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"The overal picture"</span>,</span>
<span id="cb5-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"No. of workouts"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-summaries" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-summaries-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Workout summary</figcaption>
</figure>
</div>
</div>
</div>
<p>I averaged 10 workouts per month during the 10 months period (despite registering 0 in April and May) Figure&nbsp;2. I registered a median of 13 workouts per month, not bad for a beginner though, proud of these numbers to the greatest heights.</p>
</section>
<section id="sec-monthviz" class="level2">
<h2 class="anchored" data-anchor-id="sec-monthviz">Monthly Visual Chart</h2>
<p>The cascede images below shows monthly presence in the gym. The light-green highlighted dates represents the days I worked out for that month. July has a good pattern, I love it ðŸ¤—</p>
<div class="quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Jan2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Jan</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Feb2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Feb</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Mar2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Mar</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Apr2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Apr</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/May2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">May</figcaption>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Jun2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Jun</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Jul2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Jul</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Aug2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Aug</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Sept2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Sept</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 20.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/Oct2023.PNG" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Oct</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="workout-schedule-structuring-success" class="level2">
<h2 class="anchored" data-anchor-id="workout-schedule-structuring-success">Workout schedule: Structuring Success</h2>
<p>A structured workout schedule was instrumental in maintaining consistency. It included various exercises targeting different muscle groups and allocated specific times to each.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Work out schedule</span></span>
<span id="cb6-2">workout_sched <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tribble</span>(</span>
<span id="cb6-3">  <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Day, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">50 mins</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">30 mins</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>, <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">10 mins</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">`</span>,</span>
<span id="cb6-4">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Monday"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Chest"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Biceps"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Treadmill Run"</span>,</span>
<span id="cb6-5">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Tuesday"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Back"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Triceps"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Treadmill Run"</span>,</span>
<span id="cb6-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wednesday"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Legs"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shoulder"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Treadmill Run"</span>,</span>
<span id="cb6-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Thursday"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Core"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Compound exercises"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Treadmill Run"</span>,</span>
<span id="cb6-8">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Friday"</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_character_</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_character_</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rest day (Not always)"</span>,</span>
<span id="cb6-9">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Saturday"</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_character_</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA_character_</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Outdoor half-marathon 11 - 13kms"</span>)</span></code></pre></div>
</div>
<p>The table below shows the daily work-out schedule, making sure I spend more time on muscles that take long to grow and always end my workout with a 10 mins run on the treadmill. The headers are day of the week and mins allocated to each exercise.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">workout_sched <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">qflextable</span>()</span></code></pre></div>
<div class="cell-output-display">
<div id="tbl-sched" class="anchored">

<div class="tabwid"><style>.cl-76443404{}.cl-763ceb9a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-763f96ce{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-763fa59c{width:1.092in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5a6{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5a7{width:1.72in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5b0{width:2.62in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5b1{width:1.092in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5ba{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5bb{width:1.72in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5bc{width:2.62in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5bd{width:1.092in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5c4{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5c5{width:1.72in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5c6{width:2.62in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5ce{width:1.092in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5cf{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5d0{width:1.72in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5d8{width:2.62in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5d9{width:1.092in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5da{width:0.82in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5e2{width:1.72in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-763fa5e3{width:2.62in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-76443404"><caption>Table&nbsp;1:  <p>Workout schedule</p> </caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-763fa59c"><p class="cl-763f96ce"><span class="cl-763ceb9a">Day</span></p></th><th class="cl-763fa5a6"><p class="cl-763f96ce"><span class="cl-763ceb9a">50 mins</span></p></th><th class="cl-763fa5a7"><p class="cl-763f96ce"><span class="cl-763ceb9a">30 mins</span></p></th><th class="cl-763fa5b0"><p class="cl-763f96ce"><span class="cl-763ceb9a">10 mins</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-763fa5b1"><p class="cl-763f96ce"><span class="cl-763ceb9a">Monday</span></p></td><td class="cl-763fa5ba"><p class="cl-763f96ce"><span class="cl-763ceb9a">Chest</span></p></td><td class="cl-763fa5bb"><p class="cl-763f96ce"><span class="cl-763ceb9a">Biceps</span></p></td><td class="cl-763fa5bc"><p class="cl-763f96ce"><span class="cl-763ceb9a">Treadmill Run</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-763fa5b1"><p class="cl-763f96ce"><span class="cl-763ceb9a">Tuesday</span></p></td><td class="cl-763fa5ba"><p class="cl-763f96ce"><span class="cl-763ceb9a">Back</span></p></td><td class="cl-763fa5bb"><p class="cl-763f96ce"><span class="cl-763ceb9a">Triceps</span></p></td><td class="cl-763fa5bc"><p class="cl-763f96ce"><span class="cl-763ceb9a">Treadmill Run</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-763fa5b1"><p class="cl-763f96ce"><span class="cl-763ceb9a">Wednesday</span></p></td><td class="cl-763fa5ba"><p class="cl-763f96ce"><span class="cl-763ceb9a">Legs</span></p></td><td class="cl-763fa5bb"><p class="cl-763f96ce"><span class="cl-763ceb9a">Shoulder</span></p></td><td class="cl-763fa5bc"><p class="cl-763f96ce"><span class="cl-763ceb9a">Treadmill Run</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-763fa5bd"><p class="cl-763f96ce"><span class="cl-763ceb9a">Thursday</span></p></td><td class="cl-763fa5c4"><p class="cl-763f96ce"><span class="cl-763ceb9a">Core</span></p></td><td class="cl-763fa5c5"><p class="cl-763f96ce"><span class="cl-763ceb9a">Compound exercises</span></p></td><td class="cl-763fa5c6"><p class="cl-763f96ce"><span class="cl-763ceb9a">Treadmill Run</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-763fa5ce"><p class="cl-763f96ce"><span class="cl-763ceb9a">Friday</span></p></td><td class="cl-763fa5cf"><p class="cl-763f96ce"><span class="cl-763ceb9a"></span></p></td><td class="cl-763fa5d0"><p class="cl-763f96ce"><span class="cl-763ceb9a"></span></p></td><td class="cl-763fa5d8"><p class="cl-763f96ce"><span class="cl-763ceb9a">Rest day (Not always)</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-763fa5d9"><p class="cl-763f96ce"><span class="cl-763ceb9a">Saturday</span></p></td><td class="cl-763fa5da"><p class="cl-763f96ce"><span class="cl-763ceb9a"></span></p></td><td class="cl-763fa5e2"><p class="cl-763f96ce"><span class="cl-763ceb9a"></span></p></td><td class="cl-763fa5e3"><p class="cl-763f96ce"><span class="cl-763ceb9a">Outdoor half-marathon 11 - 13kms</span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
<p>As a starting point, I aimed at working out for at least 1hr 30 mins; focusing two muscles a day as shown in Table&nbsp;1. Friday was not all rest day as can been seen in monthly visual chart -&nbsp;3, but was mostly a plan to catch up on missed appointment a.k.a punish yourself for missing many sessions the prior month.</p>
</section>
<section id="visualizing-progress-tracking-transformations" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-progress-tracking-transformations">Visualizing Progress: Tracking Transformations</h2>
<p>Visualizing my workout data unveiled the trends in my workout duration, enabling me to track improvements and shifts in my routine.</p>
<section id="average-monthly-workout-duration" class="level3">
<h3 class="anchored" data-anchor-id="average-monthly-workout-duration">Average monthly workout duration</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(month) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarise</span>(</span>
<span id="cb8-4">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">avg_dur =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(duration_mins)</span>
<span id="cb8-5">  ) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb8-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> month, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> avg_dur, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-8">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(</span>
<span id="cb8-10">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Monthly average workout duration in minutes"</span>,</span>
<span id="cb8-11">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>,</span>
<span id="cb8-12">    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duration (mins)"</span></span>
<span id="cb8-13">  )</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-trend" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-trend-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Average workout duration</figcaption>
</figure>
</div>
</div>
</div>
<p>The month of June was my worst solo effort, but this trend shows the significance of my gym buddy the month of after June and the average stay and working out in the gym that shot up by approximately 38% and almost stabilized. I can only hope for an upward trend going forward.</p>
</section>
<section id="trend---best-month" class="level3">
<h3 class="anchored" data-anchor-id="trend---best-month">Trend - best month</h3>
<p>The month after getting a workout buddy was the best. All metrics were at their all time best i.e.&nbsp;more days in the gym, more time working out for the days designated; and in fact, the second best monthly average workout duration this year Figure&nbsp;3. This once again tells the importance of the incoming energy, support, encouragement and accountability from my workout buddy.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># create metrics for dynamic labeling</span></span>
<span id="cb9-2">tot_mins <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(month <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Jul"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">select</span>(duration_mins) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pluck</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>()</span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># days worked</span></span>
<span id="cb9-6">days_work <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(month <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Jul"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>()</span>
<span id="cb9-7"> </span>
<span id="cb9-8"></span>
<span id="cb9-9">gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">filter</span>(month <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Jul"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb9-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> visit_date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> duration_mins, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb9-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_point</span>()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2 days"</span>,    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># break by 1 month interval</span></span>
<span id="cb9-15">               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#date_labels = "%d\n%b",</span></span>
<span id="cb9-16">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_date_short</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># show only month of the year</span></span>
<span id="cb9-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duration(mins)"</span>,</span>
<span id="cb9-18">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trend of best effort, July 2023"</span>,</span>
<span id="cb9-19">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">caption =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">str_glue</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Days working out = {days_work}</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Total mins = {comma(tot_mins)}"</span>))</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-bestmonth" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-bestmonth-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Dialy work out trend, July 2023</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="summary-of-workout-daysevolution-of-dedication" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-workout-daysevolution-of-dedication">Summary of workout days:Evolution of Dedication</h3>
<p>In general, my working out routine greatly improved months following June and this can all be attributed to having a workout buddy. The box plots below paint a picture of a transformation in the process; which can only get better with time. Amidst all the fired up effort, I missed a few days/months; but thatâ€™s a story for another day of why that happened.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> month, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> duration_mins)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">outlier.color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duration(mins)"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-boxplot-workout" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-boxplot-workout-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;5: Summary of monthly workouts</figcaption>
</figure>
</div>
</div>
</div>
<p>Summarizing my monthly workouts using box plots revealed the distribution of my workout durations and provided further insights into my fitness journey Figure&nbsp;5.</p>
</section>
<section id="histogram-of-workout-duration" class="level3">
<h3 class="anchored" data-anchor-id="histogram-of-workout-duration">Histogram of workout duration</h3>
<p>A histogram of workout duration showcases the diverse nature of my exercise routines, with both short, intense sessions and longer, endurance-based workouts.</p>
<p>I am proud of every value on the x-axis and how many times it occurred on the y-axis. I donâ€™t want to settle on the middle ground but I lik the extremes because they come into play when circumstance prevail.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">gym_log <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%&gt;%</span> </span>
<span id="cb11-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> duration_mins)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_histogram</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"steelblue"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"duration(mins)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Frequency"</span>,</span>
<span id="cb11-5">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Histogram of all-time workout duration"</span>,</span>
<span id="cb11-6">       <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">subtitle =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Jan upto Oct 2023"</span>)</span></code></pre></div>
<div class="cell-output-display">
<div id="fig-histogram-durat" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index_files/figure-html/fig-histogram-durat-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;6: Histogram of all-time workout duration</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion-and-take-aways" class="level2">
<h2 class="anchored" data-anchor-id="conclusion-and-take-aways">Conclusion and take aways</h2>
<p>This celebration is about a habit I have managed to pick, the growth and the transformation it has brought about.This type of a journey requires accountability, and for that reason, I have a workout buddy <a href="https://www.linkedin.com/in/tony-henry-43a372a0/">Tony Henry</a> who I am accountable to, and the gym app was very crucial in tracking my progress.</p>
<p>Fitness journey comes with challenges, for instance having to wake up in the morning at around 6am to workout while you would rather keep warm and sleep is the hardest choice. Overcoming this type of challenge was key to my success, made me mentally stronger and enabled me to become more resilient.</p>
<p>Listen to your body always, know when to push harder and when to rest. Celebrate every milestone you have achieved, even if it meant you lifted 2.5kg extra on top of your regular weight limit. Celebrations makes you more energetic and looking forward to move up next level the following workout day.</p>
<p>I hope my story inspires you to start your fitness journey or continue the one you already archived. Itâ€™s doable, if you put mind to it. Here is to 100 days of hard-work, dedication and determination ðŸ™ŒðŸ¥³.</p>


</section>

 ]]></description>
  <category>social</category>
  <category>tidyverse</category>
  <category>Data wrangling</category>
  <guid>https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/index.html</guid>
  <pubDate>Mon, 23 Oct 2023 23:00:00 GMT</pubDate>
  <media:content url="https://cmaronga.github.io/codecraft.blog/posts/celebrate-100-gym-days/all_visits.PNG" medium="image"/>
</item>
<item>
  <title>Working with Databases in R</title>
  <link>https://cmaronga.github.io/codecraft.blog/posts/working-with-databases/index.html</link>
  <description><![CDATA[ 




<p>MySQL, SQLite, R</p>
<p>This blog post comes as a follow-up to a successful online training session jointly organized by NairobiR and RLadies on June 12, 2021. If you missed the session, you can view the recording on this <a href="https://youtu.be/txMmjDQoQqE?si=3SJ2pm_gQADa_DHY">YouTube</a> link</p>
<p>In both the video and this accompanying blog, I delve into the fundamental principles of establishing dynamic connections and extracting data from databases using Application Programming Interfaces (APIs). Regardless of how and where data is stored, the initial step in any data management process involves loading it into your preferred working tool.</p>
<p>Relational databases, such as RMySQL, and web-based databases, like REDCap, have gained popularity for efficiently and cost-effectively managing small to medium-sized datasets. In this blog, Iâ€™ll guide you through the essential steps to access and utilize data stored in these platforms using the R statistical language. I will provide practical examples to demonstrate:</p>
<ol type="1">
<li><p>Establishing an efficient connection between R and Relational Database Management Systems (RDBMS).</p></li>
<li><p>Querying data housed in any RDBMS directly from within R/RStudio.</p></li>
<li><p>Connecting to and querying data from a Research Electronic Data Capture (REDCap) database.</p></li>
<li><p>Best practices for securing your API while collaborating on projects.</p></li>
</ol>
<p>Please note that this blog is a work in progress. In the meantime, you can access the workshop slides for reference <a href="https://github.com/cmaronga/cmaronga.github.io/blob/main/my_files/working_with_databases_in_R.pdf">here</a> and the youtube link should be resourceful since this was a live coding exercise.</p>
<p>I also delivered a similar workshop at NHS-R conference in 2022, the workshop materials can be found <a href="https://github.com/cmaronga/NHSR-databases-with-R">here</a>, while the recorded workshop video can be accessed in this <a href="https://youtu.be/htQWauSV9J4?si=uuhIxzy5WNizkFOD">YouTube</a> link.</p>



 ]]></description>
  <category>SQL</category>
  <category>Data wrangling</category>
  <category>tidyverse</category>
  <guid>https://cmaronga.github.io/codecraft.blog/posts/working-with-databases/index.html</guid>
  <pubDate>Fri, 11 Jun 2021 23:00:00 GMT</pubDate>
  <media:content url="https://cmaronga.github.io/codecraft.blog/posts/working-with-databases/working-database.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Automating Clinical Data Management</title>
  <link>https://cmaronga.github.io/codecraft.blog/posts/automating-data-management/index.html</link>
  <description><![CDATA[ 




<p>Using REDCap, MySQL, RShiny-server</p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Data management in multi-centre cohort studies presents unique challenges, particularly when these study sites are widely dispersed geographically and possess varying levels of technical and human resources. It is crucial to maintain data quality, promptly address data inconsistencies, and generate timely progress reports. This is especially true for initiatives like the Childhood Acute Illness and Nutrition Network (CHAIN), which involved recruiting participants from nine hospitals located in Africa and Asia. The CHAIN study collected highly detailed data spanning various biological and social domains.</p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<p>To streamline data management processes, the CHAIN cohort employed Research Electronic Data Capture (REDCap), a web-based, open-source database driven by metadata. In this article, I describe our effective utilization of REDCap in combination with the open-source R software to automate the data management workflow for the CHAIN study. I aim to document, step by step, the various decisions and implementations that were instrumental in this process. I plan to make this information available on my webpage for others to read and implement, although this will require a few days to compile and potentially create informative infographics.</p>
<p>Additionally, I had the opportunity to present this work at the Why R conference in 2021, and you can watch the presentation on <a href="https://www.youtube.com/live/PbD_e5sz4P8?si=99HGccEfNv56qmWH">YouTube</a>. The presentation slides are also accessible <a href="https://github.com/cmaronga/cmaronga.github.io/blob/main/my_files/automating_research_data_management.pdf">here</a> for download</p>
<p>I hope after watching the conference presentation, you shall an idea how this was set up. I am working toward presenting this work as a guideline, untill then, pleas be patient and if you have any questions, feel free to reach me via e-mai.</p>


</section>

 ]]></description>
  <category>Data wrangling</category>
  <category>REDCap</category>
  <category>analysis</category>
  <guid>https://cmaronga.github.io/codecraft.blog/posts/automating-data-management/index.html</guid>
  <pubDate>Sun, 16 Dec 2018 00:00:00 GMT</pubDate>
  <media:content url="https://cmaronga.github.io/codecraft.blog/posts/automating-data-management/image.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
